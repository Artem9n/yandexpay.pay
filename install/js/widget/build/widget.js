this.BX=this.BX||{},function(t){"use strict";class e{constructor(t,e={}){this.el=t,this.options=Object.assign({},this.constructor.defaults,e)}destroy(){}}e.defaults={check:null};class n extends e{constructor(t,e={}){super(t,e),this.loop=()=>{this.options.check()&&this.loopTimeout()},this.loopTimeout()}destroy(){this.loopCancel()}loopTimeout(){clearTimeout(this._loopTimeout),this._loopTimeout=setTimeout(this.loop,this.options.timeout)}loopCancel(){clearTimeout(this._loopTimeout)}}n.defaults=Object.assign({},e.defaults,{timeout:1e3});class a extends e{constructor(t,e={}){super(t,e),this.listener=t=>{for(const e of t)if(null!=e.removedNodes)for(const t of e.removedNodes)if(t instanceof HTMLElement&&(t===this.el||t.contains(this.el)))return void this.runCheck()},this.observe()}destroy(){this.disconnect()}observe(){const t=this.getAnchor();var e;null!=t?(this.observer=new window.MutationObserver(this.listener),this.observer.observe(t,{childList:!0,subtree:!0})):null==(e=console)||e.warn("cant find anchor for node preserver")}disconnect(){null!=this.observer&&(this.observer.disconnect(),this.observer=null)}runCheck(){const t=this.options.delay;null==t?this.options.check():(clearTimeout(this._checkTimeout),this._checkTimeout=setTimeout((()=>{this.options.check()}),t))}getAnchor(){if(null==this.options.anchor)return document.body;let t=null;for(let e of this.options.anchor.split(","))if(e=e.trim(),""!==e&&(t=this.el.closest(e),null!=t))break;return t}}a.defaults=Object.assign({},e.defaults,{anchor:null,delay:0});class s{static make(t={}){return new s(t)}constructor(t={}){this.config=t,this.callbackMap={}}on(t,e){this.matchEvent("bx")&&this.onBxEvent(t,e),this.matchEvent("jquery")&&this.onJQueryEvent(t,e),this.matchEvent("plain")&&this.onPlainEvent(t,e)}off(t,e){this.matchEvent("bx")&&this.offBxEvent(t,e),this.matchEvent("jquery")&&this.offJQueryEvent(t,e),this.matchEvent("plain")&&this.offPlainEvent(t,e)}fire(t,e={}){this.matchEvent("bx")&&this.fireBxEvent(t,e),this.matchEvent("jquery")&&this.fireJQueryEvent(t,e),this.matchEvent("plain")&&this.firePlainEvent(t,e)}matchEvent(t){return null!=this.config[t]?!!this.config[t]:!this.config.strict}onBxEvent(t,e){"undefined"!=typeof BX&&null!=BX.addCustomEvent&&BX.addCustomEvent(t,e)}offBxEvent(t,e){"undefined"!=typeof BX&&null!=BX.removeCustomEvent&&BX.removeCustomEvent(t,e)}fireBxEvent(t,e){"undefined"!=typeof BX&&null!=BX.onCustomEvent&&BX.onCustomEvent(t,[e])}onJQueryEvent(t,e){if("undefined"==typeof jQuery)return;const n=this.typeConfig("jquery");if(this.canProxyCallback(n)){const t=e;e=(...e)=>{t(...e)},this.pushCallbackVariation("jquery",t,e)}jQuery(document).on(t,e)}offJQueryEvent(t,e){if("undefined"==typeof jQuery)return;const n=this.typeConfig("jquery");this.canProxyCallback(n)&&null==(e=this.popCallbackVariation("jquery",e))||jQuery(document).off(t,e)}fireJQueryEvent(t,e){"undefined"!=typeof jQuery&&(this.hasPlainAndJQueryCollision()||jQuery(document).triggerHandler(new CustomEvent(t,{detail:e})))}onPlainEvent(t,e){if(this.hasPlainAndJQueryCollision())return;const n=this.typeConfig("plain");if(this.canProxyCallback(n)){const t=e;e=e=>{t(e.detail)},this.pushCallbackVariation("plain",t,e)}document.addEventListener(t,e)}offPlainEvent(t,e){if(this.hasPlainAndJQueryCollision())return;const n=this.typeConfig("plain");this.canProxyCallback(n)&&null==(e=this.popCallbackVariation("plain",e))||document.removeEventListener(t,e)}firePlainEvent(t,e){document.dispatchEvent(new CustomEvent(t,{detail:e}))}hasPlainAndJQueryCollision(){if(!this.matchEvent("plain")||!this.matchEvent("jquery"))return!1;return!0!==this.typeConfig("plain").force&&"undefined"!=typeof jQuery}canProxyCallback(t){return!1!==t.proxy}typeConfig(t){return"object"==typeof this.config[t]&&null!=this.config[t]?this.config:{}}pushCallbackVariation(t,e,n){null==this.callbackMap[t]&&(this.callbackMap[t]=new WeakMap),this.callbackMap[t].set(e,n)}popCallbackVariation(t,e){if(null==this.callbackMap[t])return null;const n=this.callbackMap[t],a=n.get(e);return null!=a&&n.delete(e),a}}class i{constructor(t,e={}){this.el=t,this.options=Object.assign({},this.constructor.defaults,e),this.eventProxy=new s(this.options.config),this.bind()}destroy(){this.unbind(),this.eventProxy=null,this.options={},this.el=null}bind(){this.bindOn(),this.bindEvent()}unbind(){this.unbindOff(),this.unbindEvent()}bindOn(){null!=this.options.on&&this.options.on(this.options.check)}unbindOff(){null!=this.options.off&&this.options.off(this.options.check)}bindEvent(){const t=this.options.event;if(null!=t)if("string"==typeof t)this.eventProxy.on(t,this.options.check);else if(Array.isArray(t))t.forEach((t=>{this.eventProxy.on(t,this.options.check)}));else{var e;null==(e=console)||e.warn("unknown event type "+typeof t)}}unbindEvent(){const t=this.options.event;if(null!=t)if("string"==typeof t)this.eventProxy.off(t,this.options.check);else if(Array.isArray(t))t.forEach((t=>{this.eventProxy.off(t,this.options.check)}));else{var e;null==(e=console)||e.warn("unknown event type "+typeof t)}}}i.defaults={check:null,event:null,config:{},on:null,off:null};class o{constructor(t,e={}){this.onFrameReady=()=>{this.options.check()},this.el=t,this.options=Object.assign({},this.constructor.defaults,e),this.boot()}destroy(){var t;"undefined"==typeof BX&&(null==(t=BX)||t.removeCustomEvent("onFrameDataReceived",this.onFrameReady))}boot(){var t;const e=this.anchor();"undefined"!=typeof BX&&null==e||null==(t=BX)||t.addCustomEvent("onFrameDataReceived",this.onFrameReady)}anchor(){let t=this.el.parentElement;for(;t;){let e=!1,n=[];for(const a of t.children)if(null==a.id!=null&&/^bxdynamic_.*_start$/.test(a.id))e=!0;else if(null==a.id!=null&&/^bxdynamic_.*_end$/.test(a.id)){e=!1;for(const t of n)if(t===this.el||t.contains(this.el))return t;n=[]}else e&&n.push(a);t=t.parentElement}return null}}o.defaults={check:null};class l{constructor(t,e={}){this.check=()=>{const t=document.body.contains(this.el);return t||this.options.restore(),t},this.el=t,this.options=Object.assign({},this.constructor.defaults,e),this.install()}destroy(){this.uninstall(),this.options={},this.el=null}install(){this.installMutation(),this.installSubscriber(),this.installComposite()}uninstall(){this.uninstallMutation(),this.uninstallSubscriber(),this.uninstallComposite()}installMutation(){this.isEnabled("mutation")&&(this.mutation=class{static make(t,e){return"function"==typeof window.MutationObserver?new a(t,e):new n(t,e)}}.make(this.el,this.driverOptions("mutation")))}uninstallMutation(){null!=this.mutation&&this.mutation.destroy()}installSubscriber(){this.isEnabled("subscriber")&&(this.subscriber=new i(this.el,this.driverOptions("subscriber")))}uninstallSubscriber(){null!=this.subscriber&&(this.subscriber.destroy(),this.subscriber=null)}installComposite(){this.isEnabled("composite")&&(this.composite=new o(this.el,this.driverOptions("composite")))}uninstallComposite(){null!=this.composite&&this.composite.destroy()}isEnabled(t){return!!this.options[t]}driverOptions(t){const e="object"==typeof this.options[t]?this.options[t]:{},n={check:this.check};return Object.assign({},e,n)}}l.defaults={restore:null,subscriber:null,mutation:!0,composite:!0};class r{static compile(t,e){let n,a,s,i=t;for(n in e)if(e.hasOwnProperty(n)){a="#"+n.toUpperCase()+"#",s=e[n];do{i=i.replace(a,s)}while(-1!==i.indexOf(a))}return i}static toElement(t){const e=document.createElement("div");return e.innerHTML=t,e.firstElementChild}static toElements(t){const e=document.createElement("div");return e.innerHTML=t,[...e.children]}}class d{static getInstance(){return null==this.instance&&(this.instance=new d),this.instance}load(){return null!=this._loadPromise||(this._loadPromise=new Promise(((t,e)=>{if(this.testGlobal())return void t();const n=document.createElement("script"),a=document.getElementsByTagName("script")[0]||document.body;n.type="text/javascript",n.async=!0,n.src="https://pay.yandex.ru/sdk/v1/pay.js",n.onload=()=>{this.loopGlobal((()=>{this._loadPromise=null,t()}))},n.onerror=()=>{this._loadPromise=null,n.remove(),e(new Error("cant load yandex pay sdk library"))},a.parentNode.insertBefore(n,a)}))),this._loadPromise}loopGlobal(t){this.testGlobal()?t():setTimeout((()=>{this.loopGlobal(t)}),100)}testGlobal(){var t;return null!=(null==(t=window.YaPay)?void 0:t.createPayment)}}d.instance=null;class p{constructor(t,e={}){this.el=t,this.options=Object.assign({},this.constructor.defaults,e)}wait(){return new Promise((t=>{"undefined"!=typeof IntersectionObserver?(this.observer=new IntersectionObserver(((e,n)=>{e.forEach((e=>{if(e.isIntersecting){const a=e.target;n.unobserve(a),t(a)}}))})),this.observer.observe(this.el)):t(this.el)}))}restore(t){var e,n;null==(e=this.observer)||e.unobserve(this.el),this.el=t,null==(n=this.observer)||n.observe(this.el)}}p.defaults={};class y{constructor(t,e){this.factory=t,this.options=Object.assign({},this.constructor.defaults,e)}style(){}mount(t,e,n){}unmount(t,e){}getOption(t){return this.options[t]}setProperty(){}removeProperty(){}}y.defaults={};class c extends y{style(){const t=this.collectHeight(),e=this.collectBorder(),n=this.collectWidth();return r.compile(this.getOption("style"),{style:t+e+n})}mount(t,e,n){const a=this.getOption("VARIANT_BUTTON")||YaPay.ButtonTheme.Black,s=this.getOption("WIDTH_BUTTON")||YaPay.ButtonWidth.Max;e.mountButton(t,{type:n,theme:a,width:"OWN"!==s?s:YaPay.ButtonWidth.Max})}unmount(t,e){e.unmountButton(t)}collectHeight(){let t="";return null==(this.getOption("HEIGHT_TYPE_BUTTON")||null)||(t=r.compile(this.getOption("styleHeight"),{id:this.factory.getOption("containerId"),height:this.getOption("HEIGHT_VALUE_BUTTON")||"54"})),t}collectBorder(){var t;let e="";return null==(this.getOption("BORDER_RADIUS_TYPE_BUTTON")||null)||(e=r.compile(this.getOption("styleBorder"),{id:this.factory.getOption("containerId"),border:null!=(t=this.getOption("BORDER_RADIUS_VALUE_BUTTON"))?t:"8"})),e}collectWidth(){let t="";return"OWN"!==this.getOption("WIDTH_BUTTON")||(t=r.compile(this.getOption("styleWidth"),{id:this.factory.getOption("containerId"),width:this.getOption("WIDTH_VALUE_BUTTON")||"282"})),t}width(){let t=this.getOption("WIDTH_BUTTON")||"MAX";return"OWN"===t&&(t="MAX"),t}}c.defaults={style:"<style>#STYLE#</style>",styleHeight:"##ID# .ya-pay-button, ##ID# .bx-yapay-skeleton-loading {height:#HEIGHT#px;}",styleBorder:"##ID# .ya-pay-button, ##ID# .bx-yapay-skeleton-load {border-radius:#BORDER#px;}",styleWidth:"##ID# .ya-pay-button, ##ID# .bx-yapay-skeleton-loading, ##ID# .bx-yapay-divider{width: #WIDTH#px;}"};class h extends y{style(){const t=this.collectBorder(),e=this.collectWidth();return r.compile(this.getOption("style"),{style:t+e})}mount(t,e,n){const a=this.getOption("BORDER_RADIUS_TYPE_WIDGET");let s=this.getOption("BORDER_RADIUS_VALUE_WIDGET")||"8";null==a&&(s="8"),e.mountWidget(t,{widgetType:this.getOption("TYPE_WIDGET")||YaPay.WidgetType.Compact,widgetTheme:this.getOption("THEME_WIDGET")||YaPay.WidgetTheme.Dark,buttonTheme:this.getOption("BUTTON_THEME_WIDGET")||YaPay.ButtonTheme.Black,borderRadius:s,bnplSelected:!!Number(this.getOption("SPLIT_SELECT_WIDGET")||!1)})}unmount(t,e){e.unmountWidget(t)}collectBorder(){var t;let e="";return null==(this.getOption("BORDER_RADIUS_TYPE_WIDGET")||null)||(e=r.compile(this.getOption("styleBorder"),{id:this.factory.getOption("containerId"),border:null!=(t=this.getOption("BORDER_RADIUS_VALUE_WIDGET"))?t:"8"})),e}collectWidth(){let t="";return null==(this.getOption("WIDTH_TYPE_WIDGET")||null)||(t=r.compile(this.getOption("styleWidth"),{id:this.factory.getOption("containerId"),width:this.getOption("WIDTH_VALUE_WIDGET")||"282"})),t}width(){return"MAX"}setProperty(t){const e=this.getOption("TYPE_WIDGET"),n=this.getOption("SPLIT_SELECT_WIDGET");null!=e&&("BnplOffer"===e?"1"===n?t.style.setProperty("min-height","435px"):t.style.setProperty("min-height","301px"):"Mini"===e?t.style.setProperty("min-height","80px"):"Compact"===e||"Compact"===e?t.style.setProperty("min-height","166px"):"BnplRequired"===e?t.style.setProperty("min-height","435px"):"BnplPreview"===e&&t.style.setProperty("min-height","288px"))}removeProperty(t){setTimeout((()=>{t.style.removeProperty("min-height")}),1200)}}h.defaults={style:"<style>#STYLE#</style>",styleBorder:"##ID# .bx-yapay-skeleton-loading-button, ##ID# .bx-yapay-skeleton-loading-description {border-radius:#BORDER#px !important;}",styleWidth:"##ID# .ya-pay-widget, ##ID# .bx-yapay-skeleton-loading, ##ID# .bx-yapay-divider{width: #WIDTH#px !important;}"};class u{static make(t,e,n){if("Button"===t)return new c(e,n);if("Widget"===t)return new h(e,n);throw new Error("unknown display "+t)}}class m{static push(t,e){null==this.elements[t]&&(this.elements[t]=[]),this.elements[t].push(e)}static pop(t,e){const n=this.elements[t].indexOf(e);-1!==n&&this.elements[t].splice(n,1)}static same(t){var e;return null!=(e=this.elements[t])?e:[]}}m.elements={};class v{constructor(t={}){this.waitCount=0,this.defaults=Object.assign({},this.constructor.defaults),this.options={},this.setOptions(t),this.createSolution(),this.bootSolution(),this.bootLocal()}inject(t,e){let n;return Promise.resolve().then((()=>{n=this.filterMedia(t)})).then((()=>this.waitEvent())).then((()=>this.waitElement(n))).then((t=>this.checkElement(t))).then((t=>this.renderElement(t,e))).then((t=>this.install(t))).then((t=>this.insertToolsDisplay(t))).then((t=>{const a=new p(t.el);return this.getOption("preserve")&&this.preserve(n,e,t,a),a.wait().then((()=>t))})).then((t=>this.testConcurrency(t))).then((t=>d.getInstance().load().then((()=>t))))}filterMedia(t){const e=[];for(const n of t.split(",")){const t=n.trim();if(""===t)continue;const[a,s]=this.testSelectorMedia(t);s&&e.push(a)}if(0===e.length)throw new Error("widget not matched any media of "+t);return e.join(",")}checkElement(t){const e=this.containerSelector();if(!!t.querySelector(e)||this.containsSiblingElement(t,e))throw new Error("the element already has a container");return t}containerSelector(){return"#"+this.getOption("containerId")+" "+this.getOption("containerSelector")}containsSiblingElement(t,e){var n;let a=!1,s=null==(n=t.parentElement)?void 0:n.firstElementChild;for(;s;){if(s.matches(e)||s.querySelector(e)){a=!0;break}s=s.nextElementSibling}return a}preserve(t,e,n,a){const s=new l(n.el,Object.assign({},this.preserveOptions(),{restore:()=>{s.destroy(),this.restore(t,e,n,a)}}));n.setPreserver(s)}preserveOptions(){const t=this.getOption("preserve");return"object"==typeof t?t:{}}restore(t,e,n,a){return Promise.resolve().then((()=>this.waitElement(t))).then((s=>{const i=this.renderElement(s,e);return n.restore(i),null==a||a.restore(i),this.getOption("preserve")&&this.preserve(t,e,n,a),n}))}testConcurrency(t){const e=this.getOption("mode");if(null==e)return t;for(const t of m.same(e))document.documentElement.contains(t.el)||(t.destroy(),m.pop(e,t));return m.push(e,t),t}install(t){const e=new BX.YandexPay.Widget(t,this.options);return e.setSolution(this.solution),e.boot(),e}insertToolsDisplay(t){return t.bootToolsDisplay(),t}waitEvent(){const t=this.getOption("event");return null==t?null:new Promise((e=>{const n=s.make(this.getOption("eventConfig")),a=()=>{n.off(t,a),e()};n.on(t,a)}))}waitElement(t){return new Promise(((e,n)=>{this.waitCount=0,this.waitElementLoop(t,e,n)}))}waitElementLoop(t,e,n){const a=this.findElement(t);a?e(a):(++this.waitCount,this.waitCount>=this.getOption("waitLimit")?n("cant find element by selector "+t):setTimeout(this.waitElementLoop.bind(this,t,e,n),this.getOption("waitTimeout")))}findElement(t){var e,n;let a,s,i=t.trim();if(""===i)throw new Error("widget selector is empty");return a=null!=(e=null!=(n=this.searchBySelector(i))?n:this.searchById(t))?e:this.searchByClassName(t),null==a?null:(a.length>1&&(s=this.reduceVisible(a)),null==s&&(s=a[0]),s)}searchBySelector(t){try{const e=[];for(const n of t.split(",")){const t=n.trim();if(""===t||!this.isCssSelector(t))continue;const a=document.querySelectorAll(t);for(const t of a)e.push(t)}return e.length>0?e:null}catch(t){return null}}searchById(t){try{const e=document.getElementById(t);return null!=e?[e]:null}catch(t){return null}}searchByClassName(t){try{const e=document.getElementsByClassName(t);return e.length>0?e:null}catch(t){return null}}reduceVisible(t){let e=null;for(const n of t)if(this.testVisible(n)){e=n;break}return e}testVisible(t){return t.offsetWidth||t.offsetHeight||t.getClientRects().length}isCssSelector(t){return/^[.#]/.test(t)}testSelectorMedia(t){const e=/^(.*):media(\(.*\))$/.exec(t);return null==e?[t,!0]:[e[1],window.matchMedia(e[2]).matches]}renderElement(t,e){var n,a,s;const i=this.containerSelector(),o=this.getDisplay();let l="";var d;"widget"===(null==(n=this.getOption("displayType"))?void 0:n.toLowerCase())&&(l=null==(d=o.getOption("TYPE_WIDGET"))?void 0:d.toLowerCase());const p=r.compile(this.getOption("template"),{style:null!=o?o.style():"",width:null!=o?o.width().toLowerCase():"auto",id:this.getOption("containerId"),mode:this.getOption("mode")||"payment",display:(null==(a=this.getOption("displayType"))?void 0:a.toLowerCase())||"button",solution:null==(s=this.getOption("solution"))?void 0:s.toLowerCase(),widget_type:l});let y=r.toElements(p),c=null;0===e.indexOf("after")&&(y=y.reverse());for(const n of y)t.insertAdjacentElement(e,n),null==c&&(c=n.matches(i)?n:n.querySelector(i));if(null==c)throw new Error(`cant find template container by selector ${i}`);return c}createSolution(){const t=this.getOption("solution"),e=this.getOption("mode");this.solution=class{static getFactory(t){var e,n,a,s,i;if(null==t)return null;let o,l;[o,l]=t.split(".");let r=null==(e=window)||null==(n=e.BX)||null==(a=n.YandexPay)||null==(s=a.Solution)||null==(i=s[o])?void 0:i.factory;var d,p,y,c,h,u,m;if(null!=l&&(r=null==(d=window)||null==(p=d.BX)||null==(y=p.YandexPay)||null==(c=y.Solution)||null==(h=c[o])||null==(u=h[l])?void 0:u.factory),null!=r)return r;null==(m=console)||m.warn(`cant find solution ${t}`)}static createPage(t,e){const n=this.getFactory(t);return null==n?null:n.create(e)}}.createPage(t,e)}bootSolution(){var t;null==(t=this.solution)||t.bootFactory(this)}getDisplay(){const t=this.getOption("displayType"),e=this.getOption("displayParameters");return null==t?null:u.make(t,this,e)}getDivider(){return this.getOption("useDivider")?r.compile(this.getOption("divider"),{label:this.getOption("label")}):""}bootLocal(){s.make().fire("bxYapayFactoryInit",{factory:this})}extendDefaults(t){this.defaults=Object.assign(this.defaults,t)}setOptions(t){this.options=Object.assign(this.options,t)}getOption(t){var e;return null!=(e=this.options[t])?e:this.defaults[t]}}v.defaults={solution:null,template:'<div id="#ID#" class="bx-yapay-drawer-container yapay-behavior--#MODE# yapay-display--#DISPLAY# #WIDGET_TYPE# yapay-width--#WIDTH# yapay-solution--#SOLUTION#">#STYLE#<div class="bx-yapay-drawer"></div></div>',useDivider:!1,containerSelector:".bx-yapay-drawer",event:null,eventConfig:{},preserve:{composite:!0},waitLimit:30,waitTimeout:1e3};class b{constructor(t,e={}){this.delayTimeouts={},this.widget=t,this.defaults=Object.assign({},this.constructor.defaults),this.options=Object.assign({},e)}destroy(){}getOption(t){var e,n;return null!=(e=null!=(n=this.options[t])?n:this.widget.getOption(t))?e:this.defaults[t]}render(t,e={}){t.innerHTML=this.compile(e)}compile(t){return r.compile(this.getOption("template"),t)}restore(t){}query(t,e){return fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((t=>t.json()))}isRest(){return this.getOption("isRest")}getElement(t,e,n){let a=this.getElementSelector(t);return this.getNode(a,e,n||"querySelector")}getElementSelector(t){let e=t+"Element";return this.options[e]}getNode(t,e,n){return"#"===t.substr(0,1)?e=document:e||(e=this.el),e[n](t)}clearDelay(t){null!=this.delayTimeouts[t]&&(clearTimeout(this.delayTimeouts[t]),this.delayTimeouts[t]=null)}delay(t,e=[],n=300){this.clearDelay(t),this.delayTimeouts[t]=setTimeout(this[t].bind(this,...e),n)}showError(t,e,n=null){let a=t+" - "+e;n&&(a+=" "+n),console.error(a)}}b.defaults={template:""};class g{constructor(t={}){this.options=Object.assign({},this.constructor.defaults,t),this.widget=null}render(t,e={}){t.innerHTML=this.compile(e)}compile(t){return r.compile(this.options.template,t)}setWidget(t){this.widget=t}getOption(t){return t in this.options?this.options[t]:this.widget.options[t]}}g.defaults={template:null};class k extends g{render(t,e){super.render(t,e),this.autosubmit(t)}compile(t){const e=this.options.template,n=Object.assign(t,{inputs:this.makeInputs(t)});return r.compile(e,n)}makeInputs(t){let e,n,a,s=t.params;if(0===Object.keys(s).length)return"";for(e in a=t.termUrl?'<input type="hidden" name="TermUrl" value="'+s.termUrl+'">':"",s)s.hasOwnProperty(e)&&(n=s[e],a+='<input type="hidden" name="'+e+'" value="'+n+'">');return a}makeTermUrl(){let t=this.getOption("notifyUrl"),e=window.location.href;return t+=(-1===t.indexOf("?")?"?":"&")+"backurl="+encodeURIComponent(e)+"&service="+this.getOption("requestSign")+"&paymentId="+this.getOption("externalId"),t}autosubmit(t){t.querySelector("form").submit()}}k.defaults={template:'<form name="form" action="#ACTION#" method="#METHOD#">#INPUTS#</form>'};class x extends g{render(t,e){this.insertIframe(t,e)}insertIframe(t,e){t.innerHTML=r.compile(this.options.template,e),this.compile(t,e)}compile(t,e){let n=t.querySelector("iframe"),a=n.contentWindow||n.contentDocument.document||n.contentDocument,s=e.params;a.document.open(),a.document.write(s),a.document.close()}}x.defaults={template:'<iframe style="display: none;"></iframe>'};class f extends g{render(t,e){this.insertIframe(t,e)}insertIframe(t,e){t.innerHTML=r.compile(this.options.template,e),this.compile(t,e)}compile(t,e){Promise.resolve().then((()=>this.renderIframe(t,e))).then((()=>this.query(e)))}query(t){fetch(this.getOption("notifyUrl"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service:this.getOption("requestSign"),accept:"json",secure:t.params.secure,externalId:t.params.notify.externalId,paySystemId:t.params.notify.paySystemId})}).then((t=>t.json())).then((t=>{!0===t.success?this.widget.go(t.state,t):this.widget.go("error",t)})).catch((t=>console.log(t)))}renderIframe(t,e){let n=t.querySelector("iframe"),a=n.contentWindow||n.contentDocument.document||n.contentDocument,s=`<form name="form" action="${e.action}" method="POST">`;a.document.open(),a.document.write(s),a.document.close(),a.document.querySelector("form").submit()}}f.defaults={template:'<iframe style="display: none;"></iframe>'};class w extends b{render(t,e){const n=this.makeView(e);n.setWidget(this.widget),n.render(t,e)}makeView(t){let e=t.view;if("form"===e)return new k;if("iframe"===e)return new x;if("iframerbs"===e)return new f;throw new Error("view secure3d missing")}}class O extends b{}O.defaults={template:'<div class="alert alert-success" role="alert"><strong>#MESSAGE#</strong></div>'};class P extends b{}P.defaults={template:'<div class="alert alert-danger" role="alert"><strong>#MESSAGE#</strong></div>'};class E extends b{render(t,e={}){if(null!=t.querySelector(this.getOption("loaderSelector")))return;const n=this.compile(e),a=r.toElement(n);t.insertAdjacentElement("beforeend",a),this.restoreElement=a}restore(t){null!=this.restoreElement&&t.insertAdjacentElement("beforeend",this.restoreElement)}remove(t){const e=t.querySelector(this.getOption("loaderSelector"));null==e||e.remove()}}E.defaults={template:'<div class="bx-yapay-skeleton-loading"></div>',loaderSelector:".bx-yapay-skeleton-loading"};class T extends b{render(t,e={}){const n=t.parentElement,a=null==n?void 0:n.querySelector(this.getOption("dividerSelector"));if(!this.getOption("useDivider")||null!=a)return;const s=this.compile({label:this.getOption("label")}),i=r.toElement(s);t.insertAdjacentElement("beforebegin",i),this.restoreElement=i}restore(t){null!=this.restoreElement&&t.insertAdjacentElement("beforebegin",this.restoreElement)}remove(t){const e=t.parentElement,n=null==e?void 0:e.querySelector(this.getOption("dividerSelector"));null==n||n.remove()}}T.defaults={template:'<div class="bx-yapay-divider"> <span class="bx-yapay-divider__corner"></span> <span class="bx-yapay-divider__text">#LABEL#</span> <span class="bx-yapay-divider__corner at--right"></span> </div>',dividerSelector:".bx-yapay-divider"};class C{constructor(t){this.cart=t,this.widget=t.widget,this.paymentData=this.getPaymentData()}getOption(t){return this.cart.getOption(t)}bootstrap(){}createPayment(t,e){}getPaymentData(){}restore(t){}mount(t,e){}}class I extends C{bootstrap(){this.widget.bootToolsDisplay(),this.getButtonData().then((t=>{if("fail"===t.status)throw new Error(t.reason);this.combineOrderWithData(t.data),this.createPayment(this.cart.element,this.paymentData)})).catch((t=>{this.widget.removeToolsDisplay()}))}getButtonData(){let t={productId:this.getOption("productId"),mode:this.getOption("mode"),currencyCode:this.getOption("currencyCode"),setupId:this.getOption("setupId"),products:this.getOption("products")};return this.cart.query(this.getOption("restUrl")+"button/data",t)}getPaymentData(){return{env:this.getOption("env"),version:3,merchantId:this.getOption("merchantId"),cart:{externalId:"checkout-b2b-test-order-id"},currencyCode:this.getOption("currencyCode")}}onPaymentSuccess(t){this.authorize(t).then((t=>{"success"===t.status?setTimeout((function(){window.location.href=t.data.redirect}),1e3):this.cart.showError("authorize",t.reasonCode,t.reason)})),s.make().fire("bxYapayPaymentSuccess",t)}onPaymentAbort(t){s.make().fire("bxYapayPaymentAbort",t)}onPaymentError(t){s.make().fire("bxYapayPaymentError",t),this.cart.showError("yapayPayment","payment not created",t.reason)}createPayment(t,e){null==this._mounted&&(this._mounted=!1,YaPay.createSession(e,{onSuccess:this.onPaymentSuccess.bind(this),onAbort:this.onPaymentAbort.bind(this),onError:this.onPaymentError.bind(this),agent:{name:"CMS-Bitrix",version:"1.0"}}).then((e=>{this._mounted=!0,this.cart.display.setProperty(t),this.widget.removeLoader(),this.mount(e),this.cart.display.removeProperty(t)})).catch((e=>{this._mounted=null,t.remove(),this.cart.showError("yapayPayment","payment not created",e)})))}authorize(t){let e={orderId:t.orderId,hash:t.metadata,successUrl:this.getOption("successUrl")};return this.cart.query(this.getOption("restUrl")+"authorize",e)}bindDebug(t){for(const e in YaPay.CheckoutEventType)YaPay.CheckoutEventType.hasOwnProperty(e)&&t.on(YaPay.CheckoutEventType[e],(function(){console.log(arguments)}))}mount(t){this.cart.initialContent=null,this.payment=t,this.cart.display.mount(this.cart.element,t,YaPay.ButtonType.Checkout),s.make().fire("bxYapayMountButton")}unmount(){this._mounted=null,this.cart.display.unmount(this.cart.element,this.payment),this.widget.removeToolsDisplay()}restore(t){null!=this.payment&&(this.cart.display.mount(t,this.payment,YaPay.ButtonType.Checkout),s.make().fire("bxYapayRestoreButton"))}combineOrderWithData(t){const{cart:e}=this.paymentData;let n={cart:{...e,items:t.items,total:{amount:t.total.amount}},metadata:t.metadata};Object.assign(this.paymentData,n)}changeOffer(t){this.getOption("productId")!==t&&(this.widget.setOptions({productId:t}),this.validateProduct(t)&&(null==this._mounted?this.bootstrap():this.update()))}changeBasket(){this.update()}update(){this.payment.update((async()=>{const t=await this.getButtonData().then((t=>t)).catch((t=>{this.unmount(),this.cart.showError("getButtonData","get not button data",t)}));if("fail"===t.status)throw this.unmount(),new Error(t.reason);return{cart:{items:t.data.items},total:{amount:t.data.total.amount},metadata:t.data.metadata}}))}validateProduct(t){const e=this.getOption("products");if(null!=t&&null!=e&&0!==e.length){if(!e.hasOwnProperty(t))return!1;if(this.getOption("checkAvailable")&&"N"===e[t].AVAILABLE)return this.unmount(),!1}return!0}}class S extends C{bootstrap(){this.reflow()}getPaymentData(){let t={env:this.getOption("env"),version:2,countryCode:YaPay.CountryCode.Ru,currencyCode:YaPay.CurrencyCode.Rub,merchant:{id:this.getOption("merchantId"),name:this.getOption("merchantName"),url:this.getOption("siteUrl")},order:{id:"0"},paymentMethods:[{type:YaPay.PaymentMethodType.Card,gateway:this.getOption("gateway"),gatewayMerchantId:this.getOption("gatewayMerchantId"),allowedAuthMethods:[YaPay.AllowedAuthMethod.PanOnly],allowedCardNetworks:[YaPay.AllowedCardNetwork.UnionPay,YaPay.AllowedCardNetwork.Uzcard,YaPay.AllowedCardNetwork.Discover,YaPay.AllowedCardNetwork.AmericanExpress,YaPay.AllowedCardNetwork.Visa,YaPay.AllowedCardNetwork.Mastercard,YaPay.AllowedCardNetwork.Mir,YaPay.AllowedCardNetwork.Maestro,YaPay.AllowedCardNetwork.VisaElectron]}],requiredFields:{billingContact:{email:this.getOption("useEmail")||!1},shippingContact:{name:this.getOption("useName")||!1,email:this.getOption("useEmail")||!1,phone:this.getOption("usePhone")||!1},shippingTypes:{direct:!0,pickup:!0}}};return null!=this.getOption("paymentCash")&&t.paymentMethods.push({type:YaPay.PaymentMethodType.Cash}),t}getProducts(){let t={yapayAction:"getProducts",productId:this.getOption("productId"),mode:this.getOption("mode"),setupId:this.getOption("setupId")};return this.cart.query(this.getOption("purchaseUrl"),t)}getShippingOptions(t){let e={address:t,yapayAction:"deliveryOptions",items:this.paymentData.order.items,setupId:this.getOption("setupId"),paySystemId:this.getOption("paySystemId")};return this.cart.query(this.getOption("purchaseUrl"),e)}getPickupOptions(t){let e={bounds:t,yapayAction:"pickupOptions",items:this.paymentData.order.items,setupId:this.getOption("setupId"),paySystemId:this.getOption("paySystemId")};return this.cart.query(this.getOption("purchaseUrl"),e)}createPayment(t,e){null==this._mounted&&(this._mounted=!1,YaPay.createPayment(e,{agent:{name:"CMS-Bitrix",version:"1.0"}}).then((e=>{this._mounted=!0,this.widget.removeLoader(),this.mountButton(t,e),e.on(YaPay.PaymentEventType.Process,(t=>{this.orderAccept(t).then((n=>{if(n.error)throw new Error(n.error.message,n.error.code);this.isPaymentTypeCash(t)?(e.complete(YaPay.CompleteReason.Success),null!=n.redirect&&(window.location.href=n.redirect)):this.notify(n,t).then((t=>{!0===t.success?(this.widget.go(t.state,t),e.complete(YaPay.CompleteReason.Success)):(this.widget.go("error",t),e.complete(YaPay.CompleteReason.Error))}))})).catch((t=>{this.cart.showError("yapayProcess","",t),e.complete(YaPay.CompleteReason.Error)}))})),e.on(YaPay.PaymentEventType.Error,(t=>{this.cart.showError("yapayError","service temporary unavailable"),e.complete(YaPay.CompleteReason.Error)})),e.on(YaPay.PaymentEventType.Change,(t=>{t.shippingAddress&&this.getShippingOptions(t.shippingAddress).then((t=>{e.update({shippingOptions:t})})),t.shippingOption&&e.update({order:this.combineOrderWithDirectShipping(t.shippingOption)}),t.pickupBounds&&this.getPickupOptions(t.pickupBounds).then((t=>{e.update({pickupPoints:t})})),t.pickupInfo&&this.getPickupDetail(t.pickupInfo.pickupPointId).then((t=>{e.update({pickupPoint:t})})),t.pickupPoint&&e.update({order:this.combineOrderWithPickupShipping(t.pickupPoint)})}))})).catch((t=>{this._mounted=null,this.cart.showError("yapayPayment","payment not created",t)})))}mountButton(t,e){this.cart.initialContent=null;const n=this.cart.display.getOption("VARIANT_BUTTON")||YaPay.ButtonTheme.Black,a=this.cart.display.getOption("WIDTH_BUTTON")||YaPay.ButtonWidth.Auto;this.paymentButton=e.createButton({type:YaPay.ButtonType.Checkout,theme:n,width:a}),this.paymentButton.mount(this.cart.element),this.paymentButton.on(YaPay.ButtonEventType.Click,(()=>{e.checkout()}))}getPickupDetail(t){let e={pickupId:t,yapayAction:"pickupDetail",items:this.paymentData.order.items,setupId:this.getOption("setupId"),paySystemId:this.getOption("paySystemId")};return this.cart.query(this.getOption("purchaseUrl"),e)}orderAccept(t){let e,n=t.shippingMethodInfo.shippingOption?"delivery":"pickup";e="pickup"===n?{address:t.shippingMethodInfo.pickupPoint.address,pickup:t.shippingMethodInfo.pickupPoint}:{address:t.shippingMethodInfo.shippingAddress,delivery:t.shippingMethodInfo.shippingOption};let a={...{setupId:this.getOption("setupId"),items:this.paymentData.order.items,payment:t.paymentMethodInfo,contact:t.shippingContact,yapayAction:"orderAccept",deliveryType:n,paySystemId:this.isPaymentTypeCash(t)?this.getOption("paymentCash"):this.getOption("paySystemId"),orderAmount:t.orderAmount},...e};return this.cart.query(this.getOption("purchaseUrl"),a)}isPaymentTypeCash(t){return"CASH"===t.paymentMethodInfo.type}notify(t,e){let n={service:this.getOption("requestSign"),accept:"json",yandexData:e,externalId:t.externalId,paySystemId:t.paySystemId};return this.cart.query(this.getOption("notifyUrl"),n)}changeOffer(t){this.getOption("productId")!==t&&(this.widget.setOptions({productId:t}),this.reflow())}changeBasket(){this.reflow()}reflow(){this.getProducts().then((t=>{if(t.error)throw new Error(t.error.message);this.combineOrderWithProducts(t),this.createPayment(this.cart.element,this.paymentData)})).catch((t=>{this.widget.removeLoader()}))}combineOrderWithPickupShipping(t){const{order:e}=this.paymentData;return{...e,items:[...e.items,{type:"SHIPPING",label:t.label,amount:t.amount}],total:{...e.total,amount:this.amountSum(e.total.amount,t.amount)}}}combineOrderWithDirectShipping(t){const{order:e}=this.paymentData;return{...e,items:[...e.items,{type:"SHIPPING",label:t.label,amount:t.amount}],total:{...e.total,amount:this.amountSum(e.total.amount,t.amount)}}}combineOrderWithProducts(t){const{order:e}=this.paymentData;let n={...e,items:t.items,total:{amount:t.amount}};Object.assign(this.paymentData.order,n)}restore(t){null!=this.paymentButton&&this.paymentButton.mount(t)}amountSum(t,e){return(Number(t)+Number(e)).toFixed(2)}}class B extends b{render(t,e){this.element=t,this.display=this.getDisplay(),this.initialContent=this.element.innerHTML,this.isBootstrap=!1,this.bootProxy(),this.bootSolution(),this.bootLocal(),this.delayBootstrap()}destroy(){this.destroyLocal(),this.destroySolution()}bootProxy(){this.proxy=this.isRest()?new I(this):new S(this)}restore(t){null!=this.initialContent&&(t.innerHTML=this.initialContent),this.element=t,this.proxy.restore(t)}bootstrap(){this.isBootstrap=!0,this.proxy.bootstrap()}bootSolution(){var t;null==(t=this.widget.getSolution())||t.bootCart(this)}destroySolution(){var t;null==(t=this.widget.getSolution())||t.destroyCart(this)}bootLocal(){s.make().fire("bxYapayCartInit",{cart:this})}destroyLocal(){s.make().fire("bxYapayCartDestroy",{cart:this})}delayChangeBasket(){this.delay("changeBasket")}delayChangeOffer(t){this.delay("changeOffer",[t])}delayBootstrap(){var t;t=()=>{this.delay("bootstrap")},"complete"===document.readyState||"interactive"===document.readyState?setTimeout(t,1):document.addEventListener("DOMContentLoaded",t)}changeBasket(){var t;this.isBootstrap&&(null==(t=this.proxy)||t.changeBasket())}changeOffer(t){var e;this.isBootstrap?null==(e=this.proxy)||e.changeOffer(t):this.widget.setOptions({productId:t})}getDisplay(){const t=this.getOption("displayType"),e=this.getOption("displayParameters");return u.make(t,this,e)}}class D{constructor(t){this.payment=t,this.widget=t.widget}getOption(t){return this.payment.getOption(t)}createPayment(t,e){}getPaymentData(t){}}class A extends D{getPaymentData(t){return{env:this.getOption("env"),version:3,currencyCode:YaPay.CurrencyCode.Rub,merchantId:this.getOption("merchantId"),orderId:t.id,cart:{items:t.items,total:{amount:t.total}},metadata:this.getOption("metadata")}}onPaymentSuccess(t){this.unmount(),this.authorize(t).then((t=>{"success"===t.status?setTimeout((function(){window.location.href=t.data.redirect}),1e3):this.payment.showError("authorize",t.reasonCode,t.reason)}))}onPaymentAbort(t){s.make().fire("bxYapayPaymentAbort",t)}onPaymentError(t){setTimeout((()=>{window.location.href=this.getOption("failUrl")}),1e3)}createPayment(t,e){YaPay.createSession(e,{onSuccess:this.onPaymentSuccess.bind(this),onAbort:this.onPaymentAbort.bind(this),onError:this.onPaymentError.bind(this),agent:{name:"CMS-Bitrix",version:"1.0"}}).then((t=>{this.widget.removeLoader(),this.mount(t)})).catch((t=>{this.payment.showError("yapayPayment","payment not created",t)}))}mount(t){this.paymentSession=t,this.payment.display.mount(this.payment.element,t,YaPay.ButtonType.Pay),s.make().fire("bxYapayMountButton")}unmount(){this.payment.display.unmount(this.payment.element,this.paymentSession),this.widget.removeToolsDisplay()}authorize(t){let e={orderId:t.orderId,hash:t.metadata,successUrl:this.getOption("successUrl")};return this.payment.query(this.getOption("restUrl")+"authorize",e)}}class Y extends D{getPaymentData(t){return{env:this.getOption("env"),version:2,countryCode:YaPay.CountryCode.Ru,currencyCode:YaPay.CurrencyCode.Rub,merchant:{id:this.getOption("merchantId"),name:this.getOption("merchantName")},order:{id:t.id,total:{amount:t.total},items:t.items},paymentMethods:[{type:YaPay.PaymentMethodType.Card,gateway:this.getOption("gateway"),gatewayMerchantId:this.getOption("gatewayMerchantId"),allowedAuthMethods:[YaPay.AllowedAuthMethod.PanOnly],allowedCardNetworks:[YaPay.AllowedCardNetwork.UnionPay,YaPay.AllowedCardNetwork.Uzcard,YaPay.AllowedCardNetwork.Discover,YaPay.AllowedCardNetwork.AmericanExpress,YaPay.AllowedCardNetwork.Visa,YaPay.AllowedCardNetwork.Mastercard,YaPay.AllowedCardNetwork.Mir,YaPay.AllowedCardNetwork.Maestro,YaPay.AllowedCardNetwork.VisaElectron]}]}}createPayment(t,e){YaPay.createPayment(e,{agent:{name:"CMS-Bitrix",version:"1.0"}}).then((e=>{let n=e.createButton({type:YaPay.ButtonType.Pay,theme:this.getOption("buttonTheme")||YaPay.ButtonTheme.Black,width:this.getOption("buttonWidth")||YaPay.ButtonWidth.Auto});this.widget.removeLoader(),n.mount(t),n.on(YaPay.ButtonEventType.Click,(function(){e.checkout()})),e.on(YaPay.PaymentEventType.Process,(t=>{this.notify(e,t).then((t=>{})),e.complete(YaPay.CompleteReason.Success)})),e.on(YaPay.PaymentEventType.Error,(function(t){console.log({errors:t}),e.complete(YaPay.CompleteReason.Error)})),e.on(YaPay.PaymentEventType.Abort,(function(t){}))})).catch((function(t){console.log({"payment not create":t})}))}notify(t,e){return fetch(this.getOption("notifyUrl"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service:this.getOption("requestSign"),accept:"json",yandexData:e,externalId:this.getOption("externalId"),paySystemId:this.getOption("paySystemId")})}).then((t=>t.json())).then((t=>{!0===t.success?this.widget.go(t.state,t):this.widget.go("error",t)})).catch((t=>console.log(t)))}}class _ extends b{render(t,e){this.element=t,this.display=this.getDisplay(),this.bootProxy();const n=this.getPaymentData(e);this.createPayment(t,n)}bootProxy(){this.proxy=this.isRest()?new A(this):new Y(this)}getPaymentData(t){return this.proxy.getPaymentData(t)}createPayment(t,e){this.proxy.createPayment(t,e)}getDisplay(){const t=this.getOption("displayType"),e=this.getOption("displayParameters");return u.make(t,this,e)}}class M{constructor(t,e){this.widget=t,this.options=Object.assign({},this.constructor.defaults,e),this.options.loaderSelector=".bx-yapay-skeleton-loading"}render(t,e={}){if(null!=t.querySelector(this.getOption("loaderSelector")))return;const n=r.compile(this.getOption("template"),e),a=r.toElement(n);t.insertAdjacentElement("beforeend",a),this.restoreElement=a}restore(t){null!=this.restoreElement&&t.insertAdjacentElement("beforeend",this.restoreElement)}remove(t){const e=t.querySelector(this.getOption("loaderSelector"));null==e||e.remove()}getOption(t){var e,n;return null!=(e=null!=(n=this.options[t])?n:this.widget.getOption(t))?e:this.defaults[t]}}M.defaults={template:""};class W extends M{}W.defaults={template:'<div class="bx-yapay-skeleton-loading"><div class="bx-yapay-skeleton-load"></div></div>'};class j extends M{}j.defaults={template:'\n\t\t\t<div class="bx-yapay-skeleton-loading">\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-button"></div>\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-description"></div>\n\t\t\t</div>\n\t\t'};class L extends M{}L.defaults={template:'\n\t\t<div class="bx-yapay-skeleton-loading bx-yapay-skeleton-type-mini">\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-button"></div>\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-description"></div>\n\t\t</div>\n\t\t'};class N extends M{}N.defaults={template:'\n\t\t<div class="bx-yapay-skeleton-loading">\n\t\t\t\n\t\t\t<div class="bx-yapay-skeleton-user bx-yapay-skeleton-split">\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-circle"></div>\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-line"></div>\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-ellipse"></div>\n\t\t\t</div>\n\n\t\t\t<div class="bx-yapay-skeleton-user bx-yapay-skeleton-split-plan">\n\n\t\t\t<div class="bx-yapay-skeleton-split-plan-list">\n\t\t\t\n\t\t\t\t<div class="bx-yapay-skeleton-split-plan-item">\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-pay"></div>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<div class="bx-yapay-skeleton-split-plan-item">\n\t\t\t\t\t<div class="bx-yapay-skeleton-split-plan-item-group">\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-split-plan-pay-date"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t</div>\n\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-button"></div>\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-description"></div>\n\t\t</div>\n\t\t'};class U extends M{}U.defaults={template:'\n\t\t<div class="bx-yapay-skeleton-loading">\n\t\t\t<div class="bx-yapay-skeleton-user">\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-circle"></div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-line"></div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-circle"></div>\n\t\t\t</div>\n\t\t\t<div class="bx-yapay-skeleton-divider"></div>\n\n\t\t\t<div class="bx-yapay-skeleton-user bx-yapay-skeleton-split">\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-circle"></div>\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-line"></div>\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-ellipse-selected"></div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-plans"></div>\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-pay-now"></div>\n\n\t\t\t<div class="bx-yapay-skeleton-user bx-yapay-skeleton-split-plan">\n\n\t\t\t<div class="bx-yapay-skeleton-split-plan-list">\n\t\t\t\n\t\t\t\t<div class="bx-yapay-skeleton-split-plan-item">\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-pay"></div>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<div class="bx-yapay-skeleton-split-plan-item">\n\t\t\t\t\t<div class="bx-yapay-skeleton-split-plan-item-group">\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-split-plan-pay-date"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-fee"></div>\n\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-button"></div>\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-description"></div>\n\t\t</div>\n\t\t'};class R extends M{}R.defaults={template:'\n\t\t<div class="bx-yapay-skeleton-loading">\n\t\t\t<div class="bx-yapay-skeleton-user">\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-circle"></div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-line"></div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-circle"></div>\n\t\t\t</div>\n\t\t\t<div class="bx-yapay-skeleton-divider"></div>\n\n\t\t\t<div class="bx-yapay-skeleton-user bx-yapay-skeleton-split">\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-circle"></div>\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-line"></div>\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-circle-info"></div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-plans"></div>\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-pay-now"></div>\n\n\t\t\t<div class="bx-yapay-skeleton-user bx-yapay-skeleton-split-plan">\n\n\t\t\t<div class="bx-yapay-skeleton-split-plan-list">\n\t\t\t\n\t\t\t\t<div class="bx-yapay-skeleton-split-plan-item">\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-pay"></div>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<div class="bx-yapay-skeleton-split-plan-item">\n\t\t\t\t\t<div class="bx-yapay-skeleton-split-plan-item-group">\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-split-plan-pay-date"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-fee"></div>\n\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-button"></div>\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-description"></div>\n\t\t</div>\n\t\t'};class q extends M{}q.defaults={template:'\n\t\t<div class="bx-yapay-skeleton-loading">\n\n\t\t\t<div class="bx-yapay-skeleton-user bx-yapay-skeleton-split">\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-ellipse-preview"></div>\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-circle-right"></div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-plans"></div>\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-pay-now"></div>\n\n\t\t\t<div class="bx-yapay-skeleton-user bx-yapay-skeleton-split-plan">\n\n\t\t\t<div class="bx-yapay-skeleton-split-plan-list">\n\t\t\t\n\t\t\t\t<div class="bx-yapay-skeleton-split-plan-item">\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-pay"></div>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<div class="bx-yapay-skeleton-split-plan-item">\n\t\t\t\t\t<div class="bx-yapay-skeleton-split-plan-item-group">\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-split-plan-pay-date"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-fee"></div>\n\t\t</div>\n\t\t'};class H extends M{}H.defaults={template:'\n\t\t\t<div class="bx-yapay-skeleton-loading">\n\t\t\t\t<div class="bx-yapay-skeleton-user">\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-circle"></div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-line"></div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-circle"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-button"></div>\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-description"></div>\n\t\t\t</div>\n\t\t'};class G extends M{}G.defaults={template:'\n\t\t<div class="bx-yapay-skeleton-loading bx-yapay-skeleton-type-mini">\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-button"></div>\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-description"></div>\n\t\t</div>\n\t\t'};class V extends M{}V.defaults={template:'\n\t\t<div class="bx-yapay-skeleton-loading">\n\t\t\t<div class="bx-yapay-skeleton-user">\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-circle"></div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-line"></div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-circle"></div>\n\t\t\t</div>\n\t\t\t<div class="bx-yapay-skeleton-divider"></div>\n\n\t\t\t<div class="bx-yapay-skeleton-user bx-yapay-skeleton-split">\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-circle"></div>\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-line"></div>\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-ellipse"></div>\n\t\t\t</div>\n\n\t\t\t<div class="bx-yapay-skeleton-user bx-yapay-skeleton-split-plan">\n\n\t\t\t<div class="bx-yapay-skeleton-split-plan-list">\n\t\t\t\n\t\t\t\t<div class="bx-yapay-skeleton-split-plan-item">\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-pay"></div>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<div class="bx-yapay-skeleton-split-plan-item">\n\t\t\t\t\t<div class="bx-yapay-skeleton-split-plan-item-group">\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-split-plan-pay-date"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t</div>\n\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-button"></div>\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-description"></div>\n\t\t</div>\n\t\t'};class X extends M{}X.defaults={template:'\n\t\t<div class="bx-yapay-skeleton-loading">\n\t\t\t<div class="bx-yapay-skeleton-user">\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-circle"></div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-line"></div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-circle"></div>\n\t\t\t</div>\n\t\t\t<div class="bx-yapay-skeleton-divider"></div>\n\n\t\t\t<div class="bx-yapay-skeleton-user bx-yapay-skeleton-split">\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-circle"></div>\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-line"></div>\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-ellipse-selected"></div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-plans"></div>\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-pay-now"></div>\n\n\t\t\t<div class="bx-yapay-skeleton-user bx-yapay-skeleton-split-plan">\n\n\t\t\t<div class="bx-yapay-skeleton-split-plan-list">\n\t\t\t\n\t\t\t\t<div class="bx-yapay-skeleton-split-plan-item">\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-pay"></div>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<div class="bx-yapay-skeleton-split-plan-item">\n\t\t\t\t\t<div class="bx-yapay-skeleton-split-plan-item-group">\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-split-plan-pay-date"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-fee"></div>\n\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-button"></div>\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-description"></div>\n\t\t</div>\n\t\t'};class Q extends M{}Q.defaults={template:'\n\t\t<div class="bx-yapay-skeleton-loading">\n\t\t\t<div class="bx-yapay-skeleton-user">\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-circle"></div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-line"></div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-circle"></div>\n\t\t\t</div>\n\t\t\t<div class="bx-yapay-skeleton-divider"></div>\n\n\t\t\t<div class="bx-yapay-skeleton-user bx-yapay-skeleton-split">\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-circle"></div>\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-line"></div>\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-circle-info"></div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-plans"></div>\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-pay-now"></div>\n\n\t\t\t<div class="bx-yapay-skeleton-user bx-yapay-skeleton-split-plan">\n\n\t\t\t<div class="bx-yapay-skeleton-split-plan-list">\n\t\t\t\n\t\t\t\t<div class="bx-yapay-skeleton-split-plan-item">\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-pay"></div>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<div class="bx-yapay-skeleton-split-plan-item">\n\t\t\t\t\t<div class="bx-yapay-skeleton-split-plan-item-group">\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-split-plan-pay-date"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-fee"></div>\n\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-button"></div>\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-description"></div>\n\t\t</div>\n\t\t'};class F extends M{}F.defaults={template:'\n\t\t<div class="bx-yapay-skeleton-loading">\n\n\t\t\t<div class="bx-yapay-skeleton-user bx-yapay-skeleton-split">\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-ellipse-preview"></div>\n\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-circle-right"></div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-plans"></div>\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-pay-now"></div>\n\n\t\t\t<div class="bx-yapay-skeleton-user bx-yapay-skeleton-split-plan">\n\n\t\t\t<div class="bx-yapay-skeleton-split-plan-list">\n\t\t\t\n\t\t\t\t<div class="bx-yapay-skeleton-split-plan-item">\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-pay"></div>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<div class="bx-yapay-skeleton-split-plan-item">\n\t\t\t\t\t<div class="bx-yapay-skeleton-split-plan-item-group">\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-plan-payline"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-split-plan-pay-date"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class="bx-yapay-skeleton-load bx-yapay-skeleton-loading-split-fee"></div>\n\t\t</div>\n\t\t'};class J{constructor(t,e={}){this.defaults=Object.assign({},this.constructor.defaults),this.options={},this.el=t,this.setOptions(e)}boot(){this.bootSolution()}destroy(){this.destroyStep(),this.destroySolution(),this.destroyPreserver()}payment(t){this.go("payment",t)}cart(t){this.go("cart",t)}restore(t){var e;this.el=t,null==(e=this.step)||e.restore(t),this.restoreToolsDisplay(t)}go(t,e){this.step=this.makeStep(t),this.step.render(this.el,e)}destroyStep(){var t;null==(t=this.step)||t.destroy()}bootToolsDisplay(){this.bootDivider(),this.bootLoader()}restoreToolsDisplay(t){var e;null==(e=this.divider)||e.restore(t)}removeToolsDisplay(){this.removeDivider(),this.removeLoader()}bootDivider(){null==this.divider&&(this.divider=new T(this)),this.divider.render(this.el)}removeDivider(){null!=this.divider&&(this.divider.remove(this.el),this.divider=null)}bootLoader(){null==this.loader&&(this.loader=class{static make(t,e,n){if("Button"===t)return new W(e,n);if("Widget"===t){const t=n.displayParameters.TYPE_WIDGET;return class{static make(t,e,n){const a=e.getOption("mode"),s=e.getOption("displayParameters");if("payment"===a){if("Compact"===t)return new j(e,n);if("Mini"===t)return new L(e,n);if("BnplOffer"===t)return"1"===(null==s?void 0:s.SPLIT_SELECT_WIDGET)?new U(e,n):new N(e,n);if("BnplRequired"===t)return new R(e,n);if("BnplPreview"===t)return new q(e,n)}else{if("Compact"===t)return new H(e,n);if("Mini"===t)return new G(e,n);if("BnplOffer"===t)return"1"===(null==s?void 0:s.SPLIT_SELECT_WIDGET)?new X(e,n):new V(e,n);if("BnplRequired"===t)return new Q(e,n);if("BnplPreview"===t)return new F(e,n)}throw new Error("unknown loader widget type: "+t)}}.make(t,e,n)}throw new Error("unknown loader "+t)}}.make(this.getOption("displayType"),this,this.options)),this.loader.render(this.el)}removeLoader(){null!=this.loader&&(this.loader.remove(this.el),this.loader=null)}makeStep(t){const e=this.getOption(t)||{};return class{static make(t,e,n={}){if("3ds"===t)return new w(e,n);if("finished"===t)return new O(e,n);if("error"===t)return new P(e,n);if("payment"===t)return new _(e,n);if("cart"===t)return new B(e,n);if("loader"===t)return new E(e,n);throw new Error("unknown step "+t)}}.make(t,this,e)}setPreserver(t){this.preserver=t}destroyPreserver(){var t;null==(t=this.preserver)||t.destroy()}setSolution(t){this.solution=t}getSolution(){return this.solution}bootSolution(){var t;null==(t=this.getSolution())||t.bootWidget(this)}destroySolution(){var t;null==(t=this.getSolution())||t.destroyWidget(this)}extendDefaults(t){this.defaults=Object.assign(this.defaults,t)}setOptions(t){this.options=Object.assign(this.options,t)}getOption(t){var e;return null!=(e=this.options[t])?e:this.defaults[t]}}var z,$,K,Z;J.defaults={};const tt=null==(z=window.BX)||null==($=z.YandexPay)?void 0:$.Factory,et=null==(K=window.BX)||null==(Z=K.YandexPay)?void 0:Z.Widget,nt=null!=tt?tt:v,at=null!=et?et:J;t.Factory=nt,t.Widget=at}(this.BX.YandexPay=this.BX.YandexPay||{});
//# sourceMappingURL=widget.js.map
