{"version":3,"file":"solution.js","sources":["../../reference/page.js","../../asprocommon/molecules/factorylayout.js","../../asprocommon/element.js","../../eshopbootstrap/basket.js","../../asprocommon/basket.js","../../asprocommon/order.js","../../reference/factory.js","../index.js"],"sourcesContent":["export default class Page {\r\n\r\n\tbootFactory(factory) {\r\n\r\n\t}\r\n\r\n\tbootWidget(widget) {\r\n\r\n\t}\r\n\r\n\tbootCart(cart) {\r\n\r\n\t}\r\n\r\n\tonEvent(name, callback, config = {}) {\r\n\t\tthis.matchEvent('bx', config) && this.onBxEvent(name, callback, config);\r\n\t\tthis.matchEvent('jquery', config) && this.onJQueryEvent(name, callback, config);\r\n\t\tthis.matchEvent('plain', config) && this.onPlainEvent(name, callback, config);\r\n\t}\r\n\r\n\tmatchEvent(type, config) {\r\n\t\treturn config[type] != null ? !!config[type] : !config['strict'];\r\n\t}\r\n\r\n\tonBxEvent(name, callback, config) {\r\n\t\tif (typeof BX === 'undefined') { return; }\r\n\r\n\t\tBX.addCustomEvent(name, callback);\r\n\t}\r\n\r\n\tonJQueryEvent(name, callback, config) {\r\n\t\tif (typeof jQuery === 'undefined') { return; }\r\n\r\n\t\tconst selfConfig = this.extractEventTypeConfig('jquery', config);\r\n\r\n\t\tif (selfConfig['proxy'] !== false) {\r\n\t\t\tconst originalCallback = callback;\r\n\r\n\t\t\tcallback = (evt, data) => {\r\n\t\t\t\tconst proxyData = data != null ? data : evt?.originalEvent?.detail;\r\n\r\n\t\t\t\toriginalCallback(proxyData);\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tjQuery(document).on(name, callback);\r\n\t}\r\n\r\n\tonPlainEvent(name, callback, config) {\r\n\t\tconst selfConfig = this.extractEventTypeConfig('plain', config);\r\n\r\n\t\tif (selfConfig['force'] !== true && typeof jQuery !== 'undefined') { // will be catch inside jquery\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (selfConfig['proxy'] !== false) {\r\n\t\t\tconst originalCallback = callback;\r\n\r\n\t\t\tcallback = (evt) => {\r\n\t\t\t\toriginalCallback(evt.detail);\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tdocument.addEventListener(name, callback);\r\n\t}\r\n\r\n\textractEventTypeConfig(type, config) {\r\n\t\treturn typeof config[type] === 'object' && config[type] != null ? config : {}\r\n\t}\r\n\r\n}","import './divider.css';\r\n\r\nexport default (factory, options) => {\r\n\r\n\tconst template = {\r\n\t\ttemplate:\r\n\t\t\t'<div class=\"bx-yapay-divider-container width--#WIDTH#\">' +\r\n\t\t\t\t'<div class=\"bx-yapay-divider width--#WIDTH#\">' +\r\n\t\t\t\t\t'<span class=\"bx-yapay-divider__corner\"></span>' +\r\n\t\t\t\t\t'<span class=\"bx-yapay-divider__text\">#LABEL#</span>' +\r\n\t\t\t\t\t'<span class=\"bx-yapay-divider__corner at--right\"></span>' +\r\n\t\t\t\t'</div>'\r\n\t\t\t\t+ factory.getOption('template') +\r\n\t\t\t'</div>',\r\n\t};\r\n\r\n\tfactory.extendDefaults(Object.assign({}, options, template));\r\n}","import Page from '../reference/page';\r\nimport factoryLayout from './molecules/factorylayout';\r\n\r\nexport default class Element extends Page {\r\n\r\n\tbootFactory(factory) {\r\n\t\tfactoryLayout(factory);\r\n\t}\r\n\r\n\tbootCart(cart) {\r\n\t\tif (typeof BX === 'undefined' || typeof JCCatalogElement === 'undefined') { return; }\r\n\r\n\t\tBX.addCustomEvent('onAsproSkuSetPrice', (eventData) => {\r\n\t\t\tlet newProductId = parseInt(eventData?.offer?.ID, 10);\r\n\r\n\t\t\tif (isNaN(newProductId)) { return; }\r\n\r\n\t\t\tcart.delayChangeOffer(newProductId);\r\n\t\t});\r\n\t}\r\n}\r\n","import Page from '../reference/page';\r\n\r\nexport default class Basket extends Page {\r\n\r\n\tbootFactory(factory) {\r\n\t\tfactory.extendDefaults({\r\n\t\t\tpreserve: {\r\n\t\t\t\tmutation: {\r\n\t\t\t\t\tanchor: '[data-entity=\"basket-total-block\"]',\r\n\t\t\t\t\tdelay: null,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tbootCart(cart) {\r\n\t\tif (typeof BX === 'undefined') { return; }\r\n\r\n\t\tthis.onEvent('OnBasketChange', () => {\r\n\t\t\tcart.getProducts().then((result) => {\r\n\t\t\t\tcart.combineOrderWithProducts(result);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n","import EshopBasket from '../eshopbootstrap/basket';\r\nimport factoryLayout from './molecules/factorylayout';\r\n\r\nexport default class Basket extends EshopBasket {\r\n\r\n\tbootFactory(factory) {\r\n\t\tfactoryLayout(factory, {\r\n\t\t\tpreserve: {\r\n\t\t\t\tmutation: {\r\n\t\t\t\t\tanchor: '[data-entity=\"basket-total-block\"]',\r\n\t\t\t\t\tdelay: null,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n}","import Page from '../reference/page';\r\nimport factoryLayout from './molecules/factorylayout';\r\n\r\nexport default class Order extends Page {\r\n\r\n\tbootFactory(factory) {\r\n\t\tfactoryLayout(factory, {\r\n\t\t\tpreserve: {\r\n\t\t\t\tmutation: {\r\n\t\t\t\t\tanchor: '#bx-soa-total, #bx-soa-total-mobile',\r\n\t\t\t\t\tdelay: null,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n}\r\n","export default class Factory {\r\n\r\n\tclassMap = {};\r\n\r\n\tconstructor(classMap) {\r\n\t\tthis.classMap = classMap;\r\n\t}\r\n\r\n\tcreate(mode) {\r\n\t\tconst className = this.classMap[mode];\r\n\r\n\t\tif (className == null) { return null; }\r\n\r\n\t\treturn new className();\r\n\t}\r\n\r\n}","import Element from '../asprocommon/element';\r\nimport Basket from '../asprocommon/basket';\r\nimport Order from '../asprocommon/order';\r\nimport Factory from '../reference/factory';\r\n\r\nimport '../asprocommon/widget.css';\r\nimport './molecules/widget.css';\r\n\r\nconst factory = new Factory({\r\n\telement: Element,\r\n\tbasket: Basket,\r\n\torder: Order,\r\n});\r\n\r\nexport {\r\n\tfactory,\r\n}\r\n"],"names":["Page","factory","widget","cart","name","callback","config","matchEvent","onBxEvent","onJQueryEvent","onPlainEvent","type","BX","addCustomEvent","jQuery","selfConfig","extractEventTypeConfig","originalCallback","evt","data","proxyData","originalEvent","detail","document","on","addEventListener","options","template","getOption","extendDefaults","Object","assign","Element","factoryLayout","JCCatalogElement","eventData","newProductId","parseInt","offer","ID","isNaN","delayChangeOffer","Basket","preserve","mutation","anchor","delay","onEvent","getProducts","then","result","combineOrderWithProducts","EshopBasket","Order","Factory","classMap","mode","className","element","basket","order"],"mappings":"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"}