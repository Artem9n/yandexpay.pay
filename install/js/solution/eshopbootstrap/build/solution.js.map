{"version":3,"file":"solution.js","sources":["../../reference/page.js","../element.js","../basket.js","../../reference/factory.js","../index.js"],"sourcesContent":["export default class Page {\r\n\r\n\tbootFactory(factory) {\r\n\r\n\t}\r\n\r\n\tbootWidget(widget) {\r\n\r\n\t}\r\n\r\n\tbootCart(cart) {\r\n\r\n\t}\r\n\r\n}","import Page from '../reference/page';\r\n\r\nexport default class Element extends Page {\r\n\r\n\tbootCart(cart) {\r\n\t\tif (typeof BX === 'undefined' || typeof JCCatalogElement === 'undefined') { return; }\r\n\r\n\t\tBX.addCustomEvent('onCatalogElementChangeOffer', (eventData) => {\r\n\t\t\tlet newProductId = parseInt(eventData?.newId, 10);\r\n\r\n\t\t\tif (isNaN(newProductId)) { return; }\r\n\r\n\t\t\tcart.delayChangeOffer(newProductId);\r\n\t\t});\r\n\t}\r\n}\r\n","import Page from '../reference/page';\r\n\r\nexport default class Basket extends Page {\r\n\r\n\tbootCart(cart) {\r\n\t\tif (typeof BX === 'undefined') { return; }\r\n\r\n\t\tBX.addCustomEvent('OnBasketChange', () => {\r\n\t\t\tcart.getProducts().then((result) => {\r\n\t\t\t\tcart.combineOrderWithProducts(result);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n","export default class Factory {\r\n\r\n\tclassMap = {};\r\n\r\n\tconstructor(classMap) {\r\n\t\tthis.classMap = classMap;\r\n\t}\r\n\r\n\tcreate(mode) {\r\n\t\tconst className = this.classMap[mode];\r\n\r\n\t\tif (className == null) { return null; }\r\n\r\n\t\treturn new className();\r\n\t}\r\n\r\n}","import Element from './element';\r\nimport Basket from './basket';\r\nimport Factory from '../reference/factory';\r\n\r\nconst factory = new Factory({\r\n\telement: Element,\r\n\tbasket: Basket,\r\n});\r\n\r\nexport {\r\n\tfactory,\r\n}\r\n"],"names":["Page","factory","widget","cart","Element","BX","JCCatalogElement","addCustomEvent","eventData","newProductId","parseInt","newId","isNaN","delayChangeOffer","Basket","getProducts","then","result","combineOrderWithProducts","Factory","classMap","mode","className","element","basket"],"mappings":";;;;;;KAAqBA;;;;;;;iCAERC,SAAS;;;gCAIVC,QAAQ;;;8BAIVC,MAAM;;;;;KCRKC;;;;;;;;;;8BAEXD,MAAM;CACd,UAAI,OAAOE,EAAP,KAAc,WAAd,IAA6B,OAAOC,gBAAP,KAA4B,WAA7D,EAA0E;CAAE;CAAS;;CAErFD,MAAAA,EAAE,CAACE,cAAH,CAAkB,6BAAlB,EAAiD,UAACC,SAAD,EAAe;CAC/D,YAAIC,YAAY,GAAGC,QAAQ,CAACF,SAAD,aAACA,SAAD,uBAACA,SAAS,CAAEG,KAAZ,EAAmB,EAAnB,CAA3B;;CAEA,YAAIC,KAAK,CAACH,YAAD,CAAT,EAAyB;CAAE;CAAS;;CAEpCN,QAAAA,IAAI,CAACU,gBAAL,CAAsBJ,YAAtB;CACA,OAND;CAOA;;;GAZmCT;;KCAhBc;;;;;;;;;;8BAEXX,MAAM;CACd,UAAI,OAAOE,EAAP,KAAc,WAAlB,EAA+B;CAAE;CAAS;;CAE1CA,MAAAA,EAAE,CAACE,cAAH,CAAkB,gBAAlB,EAAoC,YAAM;CACzCJ,QAAAA,IAAI,CAACY,WAAL,GAAmBC,IAAnB,CAAwB,UAACC,MAAD,EAAY;CACnCd,UAAAA,IAAI,CAACe,wBAAL,CAA8BD,MAA9B;CACA,SAFD;CAGA,OAJD;CAKA;;;GAVkCjB;;KCFfmB;CAIpB,mBAAYC,QAAZ,EAAsB;CAAA;CAAA,kDAFX,EAEW;CACrB,SAAKA,QAAL,GAAgBA,QAAhB;CACA;;;;4BAEMC,MAAM;CACZ,UAAMC,SAAS,GAAG,KAAKF,QAAL,CAAcC,IAAd,CAAlB;;CAEA,UAAIC,SAAS,IAAI,IAAjB,EAAuB;CAAE,eAAO,IAAP;CAAc;;CAEvC,aAAO,IAAIA,SAAJ,EAAP;CACA;;;;;KCVIrB,OAAO,GAAG,IAAIkB,OAAJ,CAAY;CAC3BI,EAAAA,OAAO,EAAEnB,OADkB;CAE3BoB,EAAAA,MAAM,EAAEV;CAFmB,CAAZ,CAAhB;;;;;;;;"}