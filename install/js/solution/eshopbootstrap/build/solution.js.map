{"version":3,"file":"solution.js","sources":["../../reference/page.js","../element.js","../basket.js","../order.js","../index.js","../../reference/factory.js"],"sourcesContent":["export default class Page {\r\n\r\n\tbootFactory(factory) {\r\n\r\n\t}\r\n\r\n\tbootWidget(widget) {\r\n\r\n\t}\r\n\r\n\tbootCart(cart) {\r\n\r\n\t}\r\n\r\n}","import Page from '../reference/page';\r\n\r\nexport default class Element extends Page {\r\n\r\n\tbootCart(cart) {\r\n\t\tif (typeof BX === 'undefined' || typeof JCCatalogElement === 'undefined') { return; }\r\n\r\n\t\tBX.addCustomEvent('onCatalogElementChangeOffer', (eventData) => {\r\n\t\t\tlet newProductId = parseInt(eventData?.newId, 10);\r\n\r\n\t\t\tif (isNaN(newProductId)) { return; }\r\n\r\n\t\t\tcart.delayChangeOffer(newProductId);\r\n\t\t});\r\n\t}\r\n}\r\n","import Page from '../reference/page';\r\n\r\nexport default class Basket extends Page {\r\n\r\n\tbootFactory(factory) {\r\n\t\tfactory.extendDefaults({\r\n\t\t\tpreserve: {\r\n\t\t\t\tmutation: {\r\n\t\t\t\t\tanchor: '[data-entity=\"basket-total-block\"]',\r\n\t\t\t\t\tdelay: null,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tbootCart(cart) {\r\n\t\tif (typeof BX === 'undefined') { return; }\r\n\r\n\t\tBX.addCustomEvent('OnBasketChange', () => {\r\n\t\t\tcart.getButtonData().then((result) => {\r\n\t\t\t\tcart.combineOrderWithProducts(result.data);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n","import Page from '../reference/page';\r\n\r\nexport default class Order extends Page {\r\n\r\n\tbootFactory(factory) {\r\n\t\tfactory.extendDefaults({\r\n\t\t\tpreserve: {\r\n\t\t\t\tmutation: {\r\n\t\t\t\t\tanchor: '.bx-soa-cart-total',\r\n\t\t\t\t\tdelay: null,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n}\r\n","import Element from './element';\r\nimport Basket from './basket';\r\nimport Order from './order';\r\nimport Factory from '../reference/factory';\r\n\r\nimport './widget.css';\r\n\r\nconst factory = new Factory({\r\n\telement: Element,\r\n\tbasket: Basket,\r\n\torder: Order,\r\n});\r\n\r\nexport {\r\n\tfactory,\r\n}\r\n","export default class Factory {\r\n\r\n\tclassMap = {};\r\n\r\n\tconstructor(classMap) {\r\n\t\tthis.classMap = classMap;\r\n\t}\r\n\r\n\tcreate(mode) {\r\n\t\tconst className = this.classMap[mode];\r\n\r\n\t\tif (className == null) { return null; }\r\n\r\n\t\treturn new className();\r\n\t}\r\n\r\n}"],"names":["Page","factory","widget","cart","Element","BX","JCCatalogElement","addCustomEvent","eventData","newProductId","parseInt","newId","isNaN","delayChangeOffer","Basket","extendDefaults","preserve","mutation","anchor","delay","getButtonData","then","result","combineOrderWithProducts","data","Order","classMap","mode","className","this","element","basket","order"],"mappings":"mJAAqBA,mIAERC,uCAIDC,qCAIFC,aCRWC,qQAEXD,GACU,oBAAPE,IAAkD,oBAArBC,kBAExCD,GAAGE,eAAe,+BAA+B,SAACC,OAC7CC,EAAeC,SAASF,MAAAA,SAAAA,EAAWG,MAAO,IAE1CC,MAAMH,IAEVN,EAAKU,iBAAiBJ,aAVYT,GCAhBc,wQAERb,GACXA,EAAQc,eAAe,CACtBC,SAAU,CACTC,SAAU,CACTC,OAAQ,qCACRC,MAAO,0CAMFhB,GACU,oBAAPE,IAEXA,GAAGE,eAAe,kBAAkB,WACnCJ,EAAKiB,gBAAgBC,MAAK,SAACC,GAC1BnB,EAAKoB,yBAAyBD,EAAOE,mBAlBLxB,GCAfyB,wQAERxB,GACXA,EAAQc,eAAe,CACtBC,SAAU,CACTC,SAAU,CACTC,OAAQ,qBACRC,MAAO,gBAPuBnB,GCK7BC,EAAU,0BCHHyB,mFAFD,SAGLA,SAAWA,kEAGVC,OACAC,EAAYC,KAAKH,SAASC,UAEf,MAAbC,EAA4B,KAEzB,IAAIA,WDNG,CAAY,CAC3BE,QAAS1B,EACT2B,OAAQjB,EACRkB,MAAOP"}