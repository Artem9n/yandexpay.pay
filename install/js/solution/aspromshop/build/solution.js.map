{"version":3,"file":"solution.js","sources":["../../reference/page.js","../../asprocommon/molecules/factorylayout.js","../../asprocommon/element.js","../../eshopbootstrap/basket.js","../../asprocommon/basket.js","../../asprocommon/order.js","../../reference/factory.js","../index.js"],"sourcesContent":["export default class Page {\r\n\r\n\tbootFactory(factory) {\r\n\r\n\t}\r\n\r\n\tbootWidget(widget) {\r\n\r\n\t}\r\n\r\n\tbootCart(cart) {\r\n\r\n\t}\r\n\r\n}","import './divider.css';\r\n\r\nexport default (factory, options) => {\r\n\r\n\tconst template = {\r\n\t\ttemplate:\r\n\t\t\t'<div class=\"bx-yapay-divider-container width--#WIDTH#\">' +\r\n\t\t\t\t'<div class=\"bx-yapay-divider width--#WIDTH#\">' +\r\n\t\t\t\t\t'<span class=\"bx-yapay-divider__corner\"></span>' +\r\n\t\t\t\t\t'<span class=\"bx-yapay-divider__text\">#LABEL#</span>' +\r\n\t\t\t\t\t'<span class=\"bx-yapay-divider__corner at--right\"></span>' +\r\n\t\t\t\t'</div>'\r\n\t\t\t\t+ factory.getOption('template') +\r\n\t\t\t'</div>',\r\n\t};\r\n\r\n\tfactory.extendDefaults(Object.assign({}, options, template));\r\n}","import Page from '../reference/page';\r\nimport factoryLayout from './molecules/factorylayout';\r\n\r\nexport default class Element extends Page {\r\n\r\n\tbootFactory(factory) {\r\n\t\tfactoryLayout(factory);\r\n\t}\r\n\r\n\tbootCart(cart) {\r\n\t\tif (typeof BX === 'undefined' || typeof JCCatalogElement === 'undefined') { return; }\r\n\r\n\t\tBX.addCustomEvent('onAsproSkuSetPrice', (eventData) => {\r\n\t\t\tlet newProductId = parseInt(eventData?.offer?.ID, 10);\r\n\r\n\t\t\tif (isNaN(newProductId)) { return; }\r\n\r\n\t\t\tcart.delayChangeOffer(newProductId);\r\n\t\t});\r\n\t}\r\n}\r\n","import Page from '../reference/page';\r\n\r\nexport default class Basket extends Page {\r\n\r\n\tbootFactory(factory) {\r\n\t\tfactory.extendDefaults({\r\n\t\t\tpreserve: {\r\n\t\t\t\tmutation: {\r\n\t\t\t\t\tanchor: '[data-entity=\"basket-total-block\"]',\r\n\t\t\t\t\tdelay: null,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tbootCart(cart) {\r\n\t\tif (typeof BX === 'undefined') { return; }\r\n\r\n\t\tBX.addCustomEvent('OnBasketChange', () => {\r\n\t\t\tcart.getProducts().then((result) => {\r\n\t\t\t\tcart.combineOrderWithProducts(result);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n","import EshopBasket from '../eshopbootstrap/basket';\r\nimport factoryLayout from './molecules/factorylayout';\r\n\r\nexport default class Basket extends EshopBasket {\r\n\r\n\tbootFactory(factory) {\r\n\t\tfactoryLayout(factory, {\r\n\t\t\tpreserve: {\r\n\t\t\t\tmutation: {\r\n\t\t\t\t\tanchor: '[data-entity=\"basket-total-block\"]',\r\n\t\t\t\t\tdelay: null,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n}","import Page from '../reference/page';\r\nimport factoryLayout from './molecules/factorylayout';\r\n\r\nexport default class Order extends Page {\r\n\r\n\tbootFactory(factory) {\r\n\t\tfactoryLayout(factory, {\r\n\t\t\tpreserve: {\r\n\t\t\t\tmutation: {\r\n\t\t\t\t\tanchor: '#bx-soa-total, #bx-soa-total-mobile',\r\n\t\t\t\t\tdelay: null,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n}\r\n","export default class Factory {\r\n\r\n\tclassMap = {};\r\n\r\n\tconstructor(classMap) {\r\n\t\tthis.classMap = classMap;\r\n\t}\r\n\r\n\tcreate(mode) {\r\n\t\tconst className = this.classMap[mode];\r\n\r\n\t\tif (className == null) { return null; }\r\n\r\n\t\treturn new className();\r\n\t}\r\n\r\n}","import Element from '../asprocommon/element';\r\nimport Basket from '../asprocommon/basket';\r\nimport Order from '../asprocommon/order';\r\nimport Factory from '../reference/factory';\r\n\r\nimport '../asprocommon/widget.css';\r\n\r\nconst factory = new Factory({\r\n\telement: Element,\r\n\tbasket: Basket,\r\n\torder: Order,\r\n});\r\n\r\nexport {\r\n\tfactory,\r\n}\r\n"],"names":["Page","factory","widget","cart","options","template","getOption","extendDefaults","Object","assign","Element","factoryLayout","BX","JCCatalogElement","addCustomEvent","eventData","newProductId","parseInt","offer","ID","isNaN","delayChangeOffer","Basket","preserve","mutation","anchor","delay","getProducts","then","result","combineOrderWithProducts","EshopBasket","Order","Factory","classMap","mode","className","element","basket","order"],"mappings":"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"}