{"version":3,"file":"build.js","sources":["../reference/page.js","element.js","../eshopbootstrap/basket.js","../reference/factory.js","index.js"],"sourcesContent":["export default class Page {\r\n\r\n\tcart = null;\r\n\r\n\tconstructor(cart) {\r\n\t\tthis.cart = cart;\r\n\t\tthis.bootstrap();\r\n\t}\r\n\r\n\tbootstrap() {\r\n\r\n\t}\r\n\r\n}","import Page from '../reference/page';\n\nexport default class Element extends Page {\n\n\tbootstrap() {\n\t\tif (typeof BX === 'undefined' || typeof JCCatalogElement === 'undefined') { return; }\n\n\t\tBX.addCustomEvent('onAsproSkuSetPrice', (eventData) => {\n\t\t\tlet newProductId = parseInt(eventData?.offer?.ID, 10);\n\n\t\t\tif (isNaN(newProductId)) { return; }\n\n\t\t\tthis.cart.delayChangeOffer(newProductId);\n\t\t});\n\t}\n}\n","import Page from '../reference/page';\n\nexport default class Basket extends Page {\n\n\tbootstrap() {\n\t\tif (typeof BX === 'undefined') { return; }\n\n\t\tBX.addCustomEvent('OnBasketChange', () => {\n\t\t\tthis.cart.getProducts().then((result) => {\n\t\t\t\tthis.cart.combineOrderWithProducts(result);\n\t\t\t});\n\t\t});\n\t}\n}\n","export default class Factory {\r\n\r\n\tclassMap = {};\r\n\r\n\tconstructor(classMap) {\r\n\t\tthis.classMap = classMap;\r\n\t}\r\n\r\n\tcreate(cart) {\r\n\t\tconst type = cart.getOption('mode');\r\n\r\n\t\tconst className = this.classMap[type];\r\n\r\n\t\tif (className == null) { return null; }\r\n\r\n\t\treturn new className(cart);\r\n\t}\r\n\r\n}","import Element from './element';\r\nimport Basket from '../eshopbootstrap/basket';\r\nimport Factory from '../reference/factory';\r\n\r\nconst factory = new Factory({\r\n\telement: Element,\r\n\tbasket: Basket,\r\n});\r\n\r\nexport {\r\n\tfactory,\r\n}\r\n"],"names":["Page","cart","bootstrap","Element","BX","JCCatalogElement","addCustomEvent","eventData","newProductId","parseInt","offer","ID","isNaN","delayChangeOffer","Basket","getProducts","then","result","combineOrderWithProducts","Factory","classMap","type","getOption","className","factory","element","basket"],"mappings":";;;;;;KAAqBA;CAIpB,gBAAYC,IAAZ,EAAkB;CAAA;CAAA,8CAFX,IAEW;CACjB,SAAKA,IAAL,GAAYA,IAAZ;CACA,SAAKC,SAAL;CACA;;;;iCAEW;;;;;KCPQC;;;;;;;;;;iCAER;CAAA;;CACX,UAAI,OAAOC,EAAP,KAAc,WAAd,IAA6B,OAAOC,gBAAP,KAA4B,WAA7D,EAA0E;CAAE;CAAS;;CAErFD,MAAAA,EAAE,CAACE,cAAH,CAAkB,oBAAlB,EAAwC,UAACC,SAAD,EAAe;CAAA;;CACtD,YAAIC,YAAY,GAAGC,QAAQ,CAACF,SAAD,aAACA,SAAD,2CAACA,SAAS,CAAEG,KAAZ,qDAAC,iBAAkBC,EAAnB,EAAuB,EAAvB,CAA3B;;CAEA,YAAIC,KAAK,CAACJ,YAAD,CAAT,EAAyB;CAAE;CAAS;;CAEpC,QAAA,KAAI,CAACP,IAAL,CAAUY,gBAAV,CAA2BL,YAA3B;CACA,OAND;CAOA;;;GAZmCR;;KCAhBc;;;;;;;;;;iCAER;CAAA;;CACX,UAAI,OAAOV,EAAP,KAAc,WAAlB,EAA+B;CAAE;CAAS;;CAE1CA,MAAAA,EAAE,CAACE,cAAH,CAAkB,gBAAlB,EAAoC,YAAM;CACzC,QAAA,KAAI,CAACL,IAAL,CAAUc,WAAV,GAAwBC,IAAxB,CAA6B,UAACC,MAAD,EAAY;CACxC,UAAA,KAAI,CAAChB,IAAL,CAAUiB,wBAAV,CAAmCD,MAAnC;CACA,SAFD;CAGA,OAJD;CAKA;;;GAVkCjB;;KCFfmB;CAIpB,mBAAYC,QAAZ,EAAsB;CAAA;CAAA,kDAFX,EAEW;CACrB,SAAKA,QAAL,GAAgBA,QAAhB;CACA;;;;4BAEMnB,MAAM;CACZ,UAAMoB,IAAI,GAAGpB,IAAI,CAACqB,SAAL,CAAe,MAAf,CAAb;CAEA,UAAMC,SAAS,GAAG,KAAKH,QAAL,CAAcC,IAAd,CAAlB;;CAEA,UAAIE,SAAS,IAAI,IAAjB,EAAuB;CAAE,eAAO,IAAP;CAAc;;CAEvC,aAAO,IAAIA,SAAJ,CAActB,IAAd,CAAP;CACA;;;;;KCZIuB,OAAO,GAAG,IAAIL,OAAJ,CAAY;CAC3BM,EAAAA,OAAO,EAAEtB,OADkB;CAE3BuB,EAAAA,MAAM,EAAEZ;CAFmB,CAAZ,CAAhB;;;;;;;;"}