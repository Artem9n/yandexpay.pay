{"version":3,"file":"script.js","sources":["src/mapsLoader.js","src/suggestwidget.js","src/suggest.js","src/index.js"],"sourcesContent":["export class MapsLoader {\r\n\r\n\tstatic instance;\r\n\r\n\tstatic defaults = {\r\n\t\tscriptUrl: 'https://api-maps.yandex.ru/2.1?lang=ru&wizard=bitrix&load=package.full&mode=release', // todo locale and wizard\r\n\t\tloadStep: 100,\r\n\t\tloadTimeout: 30000,\r\n\t};\r\n\r\n\t_loadPromise;\r\n\t_loadElapsed;\r\n\r\n\tstatic getInstance() : MapsLoader {\r\n\t\tif (this.instance == null) {\r\n\t\t\tthis.instance = new this();\r\n\t\t}\r\n\r\n\t\treturn this.instance;\r\n\t}\r\n\r\n\tconstructor(options: Object = {}) {\r\n\t\tthis.options = Object.assign({}, this.constructor.defaults, options);\r\n\t}\r\n\r\n\tload(apiKey: string) : Promise {\r\n\t\tif (this._loadPromise != null) { return this._loadPromise; }\r\n\r\n\t\tconst loaded = this.loaded();\r\n\r\n\t\tif (loaded != null) { return Promise.resolve(loaded); }\r\n\r\n\t\tthis._loadElapsed = 0;\r\n\t\tthis._loadPromise = new Promise((resolve, reject) => {\r\n\t\t\tthis.injectScript(apiKey);\r\n\t\t\tthis.waitLoaded(resolve, reject);\r\n\t\t});\r\n\r\n\t\tthis._loadPromise.finally(() => {\r\n\t\t\tthis._loadPromise = null;\r\n\t\t})\r\n\r\n\t\treturn this._loadPromise;\r\n\t}\r\n\r\n\tloaded() {\r\n\t\tif (window.ymaps?.Map == null) { return null; }\r\n\r\n\t\treturn window.ymaps;\r\n\t}\r\n\r\n\tinjectScript(apiKey: string) : void {\r\n\t\tconst anchor = window.document.head || window.document.body || window.document.documentElement;\r\n\t\tconst script = document.createElement('script');\r\n\r\n\t\tscript.src = this.options.scriptUrl + '&apikey=' + encodeURIComponent(apiKey);\r\n\r\n\t\tanchor.appendChild(script);\r\n\r\n\t\tscript.onload = () => {\r\n\t\t\tanchor.removeChild(script);\r\n\t\t};\r\n\t}\r\n\r\n\twaitLoaded(resolve, reject) : void {\r\n\t\tconst loaded = this.loaded();\r\n\r\n\t\tif (loaded != null) {\r\n\t\t\tresolve(loaded);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (this._loadElapsed > this.options.loadTimeout) {\r\n\t\t\treject(new Error('cant load ymaps')); // todo lang message\r\n\t\t}\r\n\r\n\t\tsetTimeout(\r\n\t\t\t() => { this.waitLoaded(resolve, reject) },\r\n\t\t\tthis.options.loadStep\r\n\t\t);\r\n\r\n\t\tthis._loadElapsed += this.options.loadStep;\r\n\t}\r\n\r\n}","import \"./suggestwidget.css\";\r\n\r\nexport class SuggestWidget extends BX.ui.autoComplete {\r\n\r\n\tconstructor(options) {\r\n\t\tsuper(options.widget);\r\n\r\n\t\tthis.onSelect = options.onSelect;\r\n\t\tthis.search = options.search;\r\n\t}\r\n\thandleInitStack(nf, owner, opts) {\r\n\t\tthis.setOptions();\r\n\t\tsuper.handleInitStack(nf, owner, opts);\r\n\t}\r\n\tsetOptions() {\r\n\t\tBX.merge(this, {\r\n\t\t\topts: {\r\n\t\t\t\tmessages: {\r\n\t\t\t\t\tnothingFound: 'Ничего не найдено',\r\n\t\t\t\t\terror: 'Произошла ошибка',\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tsys: {\r\n\t\t\t\tcode: 'yapay-suggest'\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tdownloadBundle(request, onLoad, onComplete, onError) {\r\n\t\tthis.search(request, onLoad, onComplete, onError);\r\n\t}\r\n\r\n\t// invokes when user selects value\r\n\tselectItem = (value) => {\r\n\t\tsuper.selectItem(value);\r\n\t\tthis.onSelect(value);\r\n\t}\r\n\r\n\tshowLoading() {\r\n\t\tthis.vars.loader.show();\r\n\t}\r\n\thideLoading() {\r\n\t\tthis.vars.loader.hide();\r\n\t}\r\n\r\n\tshowError(errorLabel, messages, sysDesc) {\r\n\t\tif (errorLabel === '') {\r\n\t\t\terrorLabel = this.opts.messages.error;\r\n\t\t}\r\n\t\tsuper.showError(errorLabel, messages, sysDesc);\r\n\t}\r\n}\r\n","import {SuggestWidget} from \"./suggestwidget\";\r\n\r\nexport class Suggest {\r\n\r\n\tstatic defaults = {\r\n\r\n\t};\r\n\r\n\t_itemsData = {};\r\n\r\n\tconstructor(element: $, options: Object = {}) {\r\n\t\tthis.$el = element;\r\n\t\tthis.el = this.$el[0];\r\n\t\tthis.options = Object.assign({}, this.constructor.defaults, options);\r\n\r\n\t\tthis.initialize();\r\n\t}\r\n\r\n\tinitialize() {\r\n\t\tthis.bootWidget();\r\n\t\tthis.bind();\r\n\t}\r\n\r\n\tbind() {\r\n\t\tthis.handleMapDoubleClick(true);\r\n\t}\r\n\r\n\thandleMapDoubleClick(dir: boolean) : void {\r\n\t\tthis.options.map.events[dir ? 'add' : 'remove'](\"dblclick\", this.onMapDoubleClick);\r\n\t}\r\n\r\n\tonMapDoubleClick = (e) => {\r\n\t\tconst coords = e.get('coords');\r\n\r\n\t\tthis.drawPlacemark(coords);\r\n\t\tthis.fillCoordinates(coords);\r\n\r\n\t\tymaps.geocode(coords)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tconst geoObject = response.geoObjects.get(0);\r\n\t\t\t\tconst title = this.geoObjectTitle(geoObject);\r\n\t\t\t\tconst address = this.geoObjectAddress(geoObject);\r\n\r\n\t\t\t\tthis.fillSuggest(title);\r\n\t\t\t\tthis.fillAddress(address);\r\n\t\t\t});\r\n\t}\r\n\r\n\tbootWidget() {\r\n\t\tthis.widget = new SuggestWidget({\r\n\t\t\twidget: {\r\n\t\t\t\tscope: this.el,\r\n\t\t\t},\r\n\t\t\tonSelect: this.onSuggestSelect,\r\n\t\t\tsearch: this.onSuggestSearch\r\n\t\t});\r\n\t}\r\n\r\n\tonSuggestSelect = (value) => {\r\n\t\tif (this._itemsData[value] == null) {\r\n\t\t\tthrow new Error('cant find associated data for item');\r\n\t\t}\r\n\r\n\t\tconst data = this._itemsData[value];\r\n\r\n\t\tthis.fillAddress(data.address);\r\n\t\tthis.fillCoordinates(data.coordinates);\r\n\t\tthis.drawPlacemark(data.coordinates);\r\n\t\tthis.moveCenter(data.coordinates);\r\n\t}\r\n\r\n\tonSuggestSearch = (request, onLoad, onComplete, onError) => {\r\n\r\n\t\tthis.widget.showLoading();\r\n\r\n\t\tymaps.geocode(request['QUERY'])\r\n\t\t\t.then((response) => {\r\n\t\t\t\tthis.widget.hideLoading();\r\n\r\n\t\t\t\tconst result = [];\r\n\r\n\t\t\t\tthis._itemsData = {};\r\n\r\n\t\t\t\tfor (let i = 0; i < response.geoObjects.getLength(); i++) {\r\n\t\t\t\t\tconst geoObject = response.geoObjects.get(i);\r\n\t\t\t\t\tconst title = this.geoObjectTitle(geoObject);\r\n\r\n\t\t\t\t\tresult.push({\r\n\t\t\t\t\t\tVALUE: title,\r\n\t\t\t\t\t\tDISPLAY: title,\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthis._itemsData[title] = {\r\n\t\t\t\t\t\tcoordinates: this.geoObjectCoordinates(geoObject),\r\n\t\t\t\t\t\taddress: this.geoObjectAddress(geoObject),\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\tonLoad.apply(this.widget, [result]);\r\n\t\t\t\tonComplete.call(this.widget);\r\n\t\t\t}).catch((e) => {\r\n\t\t\t\tthis.widget.hideLoading();\r\n\r\n\t\t\t\tthis.widget.showError('', false, e);\r\n\t\t\t\tonComplete.call(this.widget);\r\n\r\n\t\t\t\tif(BX.type.isFunction(onError)) {\r\n\t\t\t\t\tonError.call(this.widget);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tgeoObjectCoordinates(geoObject) : Array {\r\n\t\treturn geoObject.geometry.getCoordinates();\r\n\t}\r\n\r\n\tgeoObjectTitle(geoObject) : string {\r\n\t\treturn geoObject.properties.get('metaDataProperty').GeocoderMetaData.text;\r\n\t}\r\n\r\n\tgeoObjectAddress(geoObject) : Object {\r\n\t\tconst address = geoObject.properties.get('metaDataProperty').GeocoderMetaData.Address.Components;\r\n\t\tconst map = {\r\n\t\t\tcountry: 'COUNTRY',\r\n\t\t\tstreet: 'STREET',\r\n\t\t\tdistrict: 'STREET',\r\n\t\t\thouse: 'BUILDING',\r\n\t\t\tlocality: 'LOCALITY',\r\n\t\t};\r\n\t\tconst result = {};\r\n\r\n\t\tfor (let i = 0; i < address.length; i++) {\r\n\t\t\tconst part = address[i];\r\n\t\t\tconst target = map[part.kind];\r\n\r\n\t\t\tif (target == null) { continue; }\r\n\r\n\t\t\tresult[target] = part.name;\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tfillSuggest(text: string) : void {\r\n\t\tthis.$el.find('input[data-name=\"WAREHOUSE\"]').val(text);\r\n\t}\r\n\r\n\tfillAddress(address: Object) : void {\r\n\t\tfor (const [type, value] of Object.entries(address)) {\r\n\t\t\tthis.$el.find(`input[data-name=\"${type}\"]`).val(value);\r\n\t\t}\r\n\t}\r\n\r\n\tfillCoordinates(coordinates: Array) : void {\r\n\t\tthis.$el.find('input[data-name=\"LOCATION_LAT\"]').val(coordinates[0]);\r\n\t\tthis.$el.find('input[data-name=\"LOCATION_LON\"]').val(coordinates[1]);\r\n\t}\r\n\r\n\tdrawPlacemark(coordinates: Array) : void {\r\n\t\tthis.options.map.geoObjects.removeAll();\r\n\t\tthis.options.map.geoObjects.add(new ymaps.Placemark(coordinates));\r\n\t}\r\n\r\n\tmoveCenter(coordinates: Array) : void {\r\n\t\tthis.options.map.setCenter(coordinates);\r\n\t}\r\n}","import {MapsLoader} from \"./mapsLoader\";\r\nimport {Suggest} from \"./suggest\";\r\n\r\nexport class Warehouse extends BX.YandexPay.Plugin.Base {\r\n\r\n\tstatic defaults = {\r\n\t\tmapElement: '.js-field-warehouse__map',\r\n\t\tsuggestElement: '.js-field-warehouse__suggest',\r\n\t\tapiKey: null,\r\n\t};\r\n\r\n\tstatic dataName = 'uiFieldWarehouse';\r\n\r\n\tinitialize() {\r\n\t\tsuper.initialize();\r\n\r\n\t\tMapsLoader.getInstance().load(this.options.apiKey)\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis.bootMap();\r\n\t\t\t\tthis.bootSuggest();\r\n\t\t\t});\r\n\t}\r\n\r\n\tbootMap() {\r\n\t\tconst element = this.getElement('map');\r\n\r\n\t\tthis._map = new ymaps.Map(element[0], {\r\n\t\t\tcenter: [55.76, 37.64],\r\n\t\t\tcontrols: ['zoomControl'],\r\n\t\t\tbehaviors: ['drag', 'scrollZoom', 'multiTouch'],\r\n\t\t\tzoom: 10\r\n\t\t}, {\r\n\t\t\tyandexMapDisablePoiInteractivity: true,\r\n\t\t});\r\n\r\n\t\treturn this._map;\r\n\t}\r\n\r\n\tbootSuggest() {\r\n\t\tconst element = this.getElement('suggest');\r\n\r\n\t\tthis._suggest = new Suggest(element, {\r\n\t\t\tmap: this._map,\r\n\t\t});\r\n\t}\r\n\r\n\tsearch() {\r\n\t\tconst suggest = this.getElement('suggest');\r\n\t\tconst query = suggest.val();\r\n\r\n\t\tthis._mapLibrary.geocode(query).then(\r\n\t\t\tthis.searchEnd,\r\n\t\t\tthis.searchStop\r\n\t\t);\r\n\t}\r\n\r\n\tsearchStop = (error: Error) => {\r\n\t\t// todo handle error\r\n\t}\r\n\r\n\tsearchEnd = (response: Object) => {\r\n\t\tconsole.log(response);\r\n\t}\r\n\r\n}\r\n"],"names":["MapsLoader","static","this","instance","constructor","options","Object","assign","defaults","load","apiKey","_loadPromise","loaded","Promise","resolve","_loadElapsed","reject","injectScript","waitLoaded","finally","window","ymaps","Map","anchor","document","head","body","documentElement","script","createElement","src","scriptUrl","encodeURIComponent","appendChild","onload","removeChild","loadTimeout","Error","setTimeout","loadStep","SuggestWidget","BX","ui","autoComplete","super","widget","selectItem","value","onSelect","search","handleInitStack","nf","owner","opts","setOptions","merge","messages","nothingFound","error","sys","code","downloadBundle","request","onLoad","onComplete","onError","showLoading","vars","loader","show","hideLoading","hide","showError","errorLabel","sysDesc","Suggest","element","_itemsData","onMapDoubleClick","e","coords","get","drawPlacemark","fillCoordinates","geocode","then","response","geoObject","geoObjects","title","geoObjectTitle","address","geoObjectAddress","fillSuggest","fillAddress","onSuggestSelect","data","coordinates","moveCenter","onSuggestSearch","result","i","getLength","push","VALUE","DISPLAY","geoObjectCoordinates","apply","call","catch","type","isFunction","$el","el","initialize","bootWidget","bind","handleMapDoubleClick","dir","map","events","scope","geometry","getCoordinates","properties","GeocoderMetaData","text","Address","Components","country","street","district","house","locality","length","part","target","kind","name","find","val","entries","removeAll","add","Placemark","setCenter","Warehouse","YandexPay","Plugin","Base","searchStop","searchEnd","console","log","getInstance","bootMap","bootSuggest","getElement","_map","center","controls","behaviors","zoom","yandexMapDisablePoiInteractivity","_suggest","query","_mapLibrary","mapElement","suggestElement","dataName"],"mappings":"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"}