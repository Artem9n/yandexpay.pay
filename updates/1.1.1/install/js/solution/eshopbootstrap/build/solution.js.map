{"version":3,"file":"solution.js","sources":["../../../widget/utils/eventproxy.js","../../reference/page.js","../element.js","../basket.js","../order.js","../../reference/factory.js","../index.js"],"sourcesContent":["export class EventProxy {\r\n\r\n\tstatic make(config = {}) {\r\n\t\treturn new EventProxy(config);\r\n\t}\r\n\r\n\tconstructor(config = {}) {\r\n\t\tthis.config = config;\r\n\t\tthis.callbackMap = {};\r\n\t}\r\n\r\n\ton(name, callback) {\r\n\t\tthis.matchEvent('bx') && this.onBxEvent(name, callback);\r\n\t\tthis.matchEvent('jquery') && this.onJQueryEvent(name, callback);\r\n\t\tthis.matchEvent('plain') && this.onPlainEvent(name, callback);\r\n\t}\r\n\r\n\toff(name, callback) {\r\n\t\tthis.matchEvent('bx') && this.offBxEvent(name, callback);\r\n\t\tthis.matchEvent('jquery') && this.offJQueryEvent(name, callback);\r\n\t\tthis.matchEvent('plain') && this.offPlainEvent(name, callback);\r\n\t}\r\n\r\n\tfire(name, data = {}) {\r\n\t\tthis.matchEvent('bx') && this.fireBxEvent(name, data);\r\n\t\tthis.matchEvent('jquery') && this.fireJQueryEvent(name, data);\r\n\t\tthis.matchEvent('plain') && this.firePlainEvent(name, data);\r\n\t}\r\n\r\n\tmatchEvent(type) {\r\n\t\treturn this.config[type] != null ? !!this.config[type] : !this.config['strict'];\r\n\t}\r\n\r\n\tonBxEvent(name, callback) {\r\n\t\tif (typeof BX === 'undefined') { return; }\r\n\r\n\t\tBX.addCustomEvent(name, callback);\r\n\t}\r\n\r\n\toffBxEvent(name, callback) {\r\n\t\tif (typeof BX === 'undefined') { return; }\r\n\r\n\t\tBX.removeCustomEvent(name, callback);\r\n\t}\r\n\r\n\tfireBxEvent(name, data) {\r\n\t\tif (typeof BX === 'undefined') { return; }\r\n\r\n\t\tBX.onCustomEvent(name, [data]);\r\n\t}\r\n\r\n\tonJQueryEvent(name, callback) {\r\n\t\tif (typeof jQuery === 'undefined') { return; }\r\n\r\n\t\tconst selfConfig = this.typeConfig('jquery');\r\n\r\n\t\tif (this.canProxyCallback(selfConfig)) {\r\n\t\t\tconst originalCallback = callback;\r\n\r\n\t\t\tcallback = (evt, data) => {\r\n\t\t\t\tconst proxyData = data != null ? data : evt?.originalEvent?.detail;\r\n\r\n\t\t\t\toriginalCallback(proxyData);\r\n\t\t\t};\r\n\r\n\t\t\tthis.storeCallbackVariation('jquery', originalCallback, callback);\r\n\t\t}\r\n\r\n\t\tjQuery(document).on(name, callback);\r\n\t}\r\n\r\n\toffJQueryEvent(name, callback) {\r\n\t\tif (typeof jQuery === 'undefined') { return; }\r\n\r\n\t\tconst selfConfig = this.typeConfig('jquery');\r\n\r\n\t\tif (this.canProxyCallback(selfConfig)) {\r\n\t\t\tcallback = this.getCallbackVariation('jquery', callback);\r\n\r\n\t\t\tif (callback == null) { return; }\r\n\t\t}\r\n\r\n\t\tjQuery(document).off(name, callback);\r\n\t}\r\n\r\n\tfireJQueryEvent(name, data) {\r\n\t\tif (typeof jQuery === 'undefined') { return; }\r\n\t\tif (this.hasPlainAndJQueryCollision()) { return; }\r\n\r\n\t\tjQuery(document).triggerHandler(new CustomEvent(name, { \"detail\": data }));\r\n\t}\r\n\r\n\tonPlainEvent(name, callback) {\r\n\t\tif (this.hasPlainAndJQueryCollision()) { return; }\r\n\r\n\t\tconst selfConfig = this.typeConfig('plain');\r\n\r\n\t\tif (this.canProxyCallback(selfConfig)) {\r\n\t\t\tconst originalCallback = callback;\r\n\r\n\t\t\tcallback = (evt) => {\r\n\t\t\t\toriginalCallback(evt.detail);\r\n\t\t\t};\r\n\r\n\t\t\tthis.storeCallbackVariation('plain', originalCallback, callback);\r\n\t\t}\r\n\r\n\t\tdocument.addEventListener(name, callback);\r\n\t}\r\n\r\n\toffPlainEvent(name, callback) {\r\n\t\tif (this.hasPlainAndJQueryCollision()) { return; }\r\n\r\n\t\tconst selfConfig = this.typeConfig('plain');\r\n\r\n\t\tif (this.canProxyCallback(selfConfig)) {\r\n\t\t\tcallback = this.getCallbackVariation('plain', callback);\r\n\r\n\t\t\tif (callback == null) { return; }\r\n\t\t}\r\n\r\n\t\tdocument.removeEventListener(name, callback);\r\n\t}\r\n\r\n\tfirePlainEvent(name, data) {\r\n\t\tdocument.dispatchEvent(new CustomEvent(name, { \"detail\": data }));\r\n\t}\r\n\r\n\thasPlainAndJQueryCollision() {\r\n\t\tif (!this.matchEvent('plain') || !this.matchEvent('jquery')) { return false; }\r\n\r\n\t\tconst plainConfig = this.typeConfig('plain');\r\n\r\n\t\treturn (plainConfig['force'] !== true && typeof jQuery !== 'undefined');\r\n\t}\r\n\r\n\tcanProxyCallback(selfConfig) {\r\n\t\treturn selfConfig['proxy'] !== false;\r\n\t}\r\n\r\n\ttypeConfig(type) {\r\n\t\treturn typeof this.config[type] === 'object' && this.config[type] != null ? this.config : {};\r\n\t}\r\n\r\n\tstoreCallbackVariation(type, callback, proxy) {\r\n\t\tif (this.callbackMap[type] == null) {\r\n\t\t\tthis.callbackMap[type] = new WeakMap();\r\n\t\t}\r\n\r\n\t\tthis.callbackMap[type].set(callback, proxy);\r\n\t}\r\n\r\n\tgetCallbackVariation(type, callback) {\r\n\t\treturn this.callbackMap[type]?.get(callback);\r\n\t}\r\n\r\n}","import {EventProxy} from \"../../widget/utils/eventproxy\";\r\n\r\nexport default class Page {\r\n\r\n\tbootFactory(factory) {\r\n\r\n\t}\r\n\r\n\tbootWidget(widget) {\r\n\r\n\t}\r\n\r\n\tbootCart(cart) {\r\n\r\n\t}\r\n\r\n\tonEvent(name, callback, config = {}) {\r\n\t\tEventProxy.make(config).on(name, callback);\r\n\t}\r\n\r\n}","import Page from '../reference/page';\r\n\r\nexport default class Element extends Page {\r\n\r\n\tbootCart(cart) {\r\n\t\tthis.onEvent('onCatalogElementChangeOffer', (eventData) => {\r\n\t\t\tlet newProductId = parseInt(eventData?.newId, 10);\r\n\r\n\t\t\tif (isNaN(newProductId)) { return; }\r\n\r\n\t\t\tcart.delayChangeOffer(newProductId);\r\n\t\t});\r\n\t}\r\n}\r\n","import Page from '../reference/page';\r\n\r\nexport default class Basket extends Page {\r\n\r\n\tbootFactory(factory) {\r\n\t\tfactory.extendDefaults({\r\n\t\t\tpreserve: {\r\n\t\t\t\tmutation: {\r\n\t\t\t\t\tanchor: '[data-entity=\"basket-total-block\"]',\r\n\t\t\t\t\tdelay: null,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\tbootCart(cart) {\r\n\t\tif (typeof BX === 'undefined') { return; }\r\n\r\n\t\tthis.onEvent('OnBasketChange', () => {\r\n\t\t\tcart.getProducts().then((result) => {\r\n\t\t\t\tcart.combineOrderWithProducts(result);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n","import Page from '../reference/page';\r\n\r\nexport default class Order extends Page {\r\n\r\n\tbootFactory(factory) {\r\n\t\tfactory.extendDefaults({\r\n\t\t\tpreserve: {\r\n\t\t\t\tmutation: {\r\n\t\t\t\t\tanchor: '.bx-soa-cart-total',\r\n\t\t\t\t\tdelay: null,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n}\r\n","export default class Factory {\r\n\r\n\tclassMap = {};\r\n\r\n\tconstructor(classMap) {\r\n\t\tthis.classMap = classMap;\r\n\t}\r\n\r\n\tcreate(mode) {\r\n\t\tconst className = this.classMap[mode];\r\n\r\n\t\tif (className == null) { return null; }\r\n\r\n\t\treturn new className();\r\n\t}\r\n\r\n}","import Element from './element';\r\nimport Basket from './basket';\r\nimport Order from './order';\r\nimport Factory from '../reference/factory';\r\n\r\nimport './widget.css';\r\n\r\nconst factory = new Factory({\r\n\telement: Element,\r\n\tbasket: Basket,\r\n\torder: Order,\r\n});\r\n\r\nexport {\r\n\tfactory,\r\n}\r\n"],"names":["EventProxy","config","callbackMap","name","callback","matchEvent","onBxEvent","onJQueryEvent","onPlainEvent","offBxEvent","offJQueryEvent","offPlainEvent","data","fireBxEvent","fireJQueryEvent","firePlainEvent","type","BX","addCustomEvent","removeCustomEvent","onCustomEvent","jQuery","selfConfig","typeConfig","canProxyCallback","originalCallback","evt","proxyData","originalEvent","detail","storeCallbackVariation","document","on","getCallbackVariation","off","hasPlainAndJQueryCollision","triggerHandler","CustomEvent","addEventListener","removeEventListener","dispatchEvent","plainConfig","proxy","WeakMap","set","get","Page","factory","widget","cart","make","Element","onEvent","eventData","newProductId","parseInt","newId","isNaN","delayChangeOffer","Basket","extendDefaults","preserve","mutation","anchor","delay","getProducts","then","result","combineOrderWithProducts","Order","Factory","classMap","mode","className","element","basket","order"],"mappings":"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"}